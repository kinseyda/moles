(function(){"use strict";var e={5200:function(e,t,r){var o=r(9963),s=r(6252),i=r(3577);const n={id:"top-bar"},a={key:0,class:"bad-text"},u={key:1,id:"dev-text",class:"bad-text"},c={id:"version-text"},l={id:"game-space"},d={id:"game-columns"},p={id:"left-column"},m={id:"central-column"},g={id:"area-pop"},h={id:"buttons-container"},f={key:0,id:"debug-buttons"},D={id:"event-log-container"},v={id:"purchasable-column"};function b(e,t,r,b,k,w){const y=(0,s.up)("resource-list"),_=(0,s.up)("area-display"),S=(0,s.up)("population-display"),M=(0,s.up)("dig-button"),x=(0,s.up)("expansion-list"),C=(0,s.up)("event-log"),T=(0,s.up)("description-container"),R=(0,s.up)("upgrade-list"),U=(0,s.up)("structure-list"),P=(0,s.up)("settings-display"),I=(0,s.up)("empire-display"),O=(0,s.up)("prestige-menu"),z=(0,s.up)("info-display");return(0,s.wg)(),(0,s.iD)("div",{id:"app",onMouseup:t[24]||(t[24]=t=>e.setDigging(!1))},[(0,s._)("div",n,[(0,s._)("button",{onClick:t[0]||(t[0]=(...t)=>e.saveGame&&e.saveGame(...t)),onMouseover:t[1]||(t[1]=t=>e.hoverDescString(e.uiDescriptions["save"])),onMouseleave:t[2]||(t[2]=t=>e.resetDesc())}," Save ",32),(0,s._)("button",{onClick:t[3]||(t[3]=(...t)=>e.loadGame&&e.loadGame(...t)),onMouseover:t[4]||(t[4]=t=>e.hoverDescString(e.uiDescriptions["load"])),onMouseleave:t[5]||(t[5]=t=>e.resetDesc())}," Load ",32),(0,s._)("button",{onClick:t[6]||(t[6]=t=>e.togglePopupOpen("settings")),onMouseover:t[7]||(t[7]=t=>e.hoverDescString(e.uiDescriptions["settings"])),onMouseleave:t[8]||(t[8]=t=>e.resetDesc())}," Settings ",32),(0,s._)("button",{onClick:t[9]||(t[9]=t=>e.togglePopupOpen("info")),onMouseover:t[10]||(t[10]=t=>e.hoverDescString(e.uiDescriptions["infoButton"])),onMouseleave:t[11]||(t[11]=t=>e.resetDesc())}," Info ",32),(0,s._)("button",{onClick:t[12]||(t[12]=(...t)=>e.debugToggle&&e.debugToggle(...t)),onMouseover:t[13]||(t[13]=t=>e.hoverDescString(e.uiDescriptions["debug"])),onMouseleave:t[14]||(t[14]=t=>e.resetDesc())}," Debug ",32),e.debugMode?((0,s.wg)(),(0,s.iD)("b",a,"DEBUG MODE IS ON")):(0,s.kq)("",!0),"development"==e.mode?((0,s.wg)(),(0,s.iD)("b",u,"Dev Mode")):(0,s.kq)("",!0),(0,s._)("p",c,"Moles v"+(0,i.zw)(e.appVersion),1)]),(0,s._)("div",l,[(0,s._)("div",{id:"tunneling-indicator",class:(0,i.C_)({indicate:e.gameData.dig.digging&&e.gameData.area.amount<e.gameData.area.getUsableArea()})},null,2),(0,s._)("div",d,[(0,s._)("div",p,[(0,s.Wm)(y,{resourceDict:e.gameData.resourceDict,area:e.gameData.area},null,8,["resourceDict","area"]),e.gameData.isUnlocked(e.PermanentUnlocks.Empire)?((0,s.wg)(),(0,s.iD)("button",{key:0,id:"empire-button",onMouseover:t[15]||(t[15]=t=>e.hoverDescString(e.uiDescriptions["empireButton"])),onMouseleave:t[16]||(t[16]=t=>e.resetDesc()),onClick:t[17]||(t[17]=t=>e.togglePopupOpen("empire"))}," Empire ",32)):(0,s.kq)("",!0)]),(0,s._)("div",m,[(0,s._)("div",g,[e.gameData.isUnlocked(e.PermanentUnlocks.Digging)?((0,s.wg)(),(0,s.j4)(_,{key:0,area:e.gameData.area},null,8,["area"])):(0,s.kq)("",!0),e.gameData.isUnlocked(e.PermanentUnlocks.Population)?((0,s.wg)(),(0,s.j4)(S,{key:1,population:e.gameData.population,popCap:e.gameData.getPopulationCap()},null,8,["population","popCap"])):(0,s.kq)("",!0)]),(0,s._)("div",h,[(0,s.wy)((0,s.Wm)(M,{dig:e.gameData.dig,area:e.gameData.area,onSetDigging:e.setDigging},null,8,["dig","area","onSetDigging"]),[[o.F8,e.gameData.isUnlocked(e.PermanentUnlocks.Digging)]]),(0,s.Wm)(x,{expansionDict:e.gameData.expansionDict},null,8,["expansionDict"]),e.debugMode?((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("button",{onClick:t[18]||(t[18]=(...t)=>e.gameLoop&&e.gameLoop(...t))},"Tick"),(0,s._)("button",{onClick:t[19]||(t[19]=(...t)=>e.logUnlockTree&&e.logUnlockTree(...t))},"Log unlock tree"),(0,s._)("button",{onClick:t[20]||(t[20]=(...t)=>e.debugFillAll&&e.debugFillAll(...t))},"Fill all resources"),(0,s._)("button",{onClick:t[21]||(t[21]=t=>e.setDigging(!0))},"Toggle digging on"),(0,s._)("button",{onClick:t[22]||(t[22]=t=>e.debugMultiplier*=2)},"Time x2"),(0,s.Uk)(" Current: "+(0,i.zw)(e.debugMultiplier)+" ",1),(0,s._)("button",{onClick:t[23]||(t[23]=t=>e.debugMultiplier/=2)},"Time /2")])):(0,s.kq)("",!0)]),(0,s._)("div",D,[(0,s.Wm)(C,{eventsDict:e.gameData.eventsDict,ref:"eventLog"},null,8,["eventsDict"])]),(0,s.Wm)(T,{gameData:e.gameData},null,8,["gameData"])]),(0,s._)("div",v,[(0,s.Wm)(R,{upgradeDict:e.gameData.upgradeDict},null,8,["upgradeDict"]),(0,s.Wm)(U,{structureDict:e.gameData.structureDict},null,8,["structureDict"])])]),"settings"==e.popUpOpen?((0,s.wg)(),(0,s.j4)(P,{key:0})):(0,s.kq)("",!0),"empire"==e.popUpOpen?((0,s.wg)(),(0,s.j4)(I,{key:1,civilizations:e.gameData.civilizations,empireRates:e.gameData.getEmpireRates(),maxPotentialRates:e.gameData.getHighestPotentialRates(),name:e.gameData.name,population:e.gameData.population,empireMult:e.gameData.empireMultiplier,prestigeUnlocked:e.gameData.isUnlocked(e.PermanentUnlocks.Prestige)},null,8,["civilizations","empireRates","maxPotentialRates","name","population","empireMult","prestigeUnlocked"])):(0,s.kq)("",!0),"prestige"==e.popUpOpen?((0,s.wg)(),(0,s.j4)(O,{key:2,onPrestige:e.prestigeGame,maxPotentialRates:e.gameData.getHighestPotentialRates()},null,8,["onPrestige","maxPotentialRates"])):(0,s.kq)("",!0),"info"==e.popUpOpen?((0,s.wg)(),(0,s.j4)(z,{key:3,appVersion:e.appVersion,gameSaveVersion:e.gameData.creationVersion},null,8,["appVersion","gameSaveVersion"])):(0,s.kq)("",!0)])],32)}var k=r(655),w=r(1124),y=r(3907);const _=e=>((0,s.dD)("data-v-468e8302"),e=e(),(0,s.Cn)(),e),S=(0,s.Uk)(),M=_((()=>(0,s._)("br",null,null,-1))),x=(0,s.Uk)(" Usable: "),C={class:"area-purchase-cost bad-text"},T=(0,s.Uk)(" / "),R={class:"good-text"},U=(0,s.Uk)(" Mo ");function P(e,t,r,o,n,a){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("p",{id:"area-text",onMouseover:t[0]||(t[0]=t=>e.hoverDescString(e.uiDescriptions["area"])),onMouseleave:t[1]||(t[1]=t=>e.resetDesc())},[(0,s.Uk)(" Max "+(0,i.zw)(e.getAreaString(e.area.cap))+" Area: ",1),(0,s._)("b",null,(0,i.zw)(e.formatNumber(e.area.cap)),1),S,M,x,(0,s._)("b",{id:"amount",style:(0,i.j5)({color:e.getColorScale(1-e.area.amount/e.area.getUsableArea())})},[(0,s.Uk)((0,i.zw)(e.formatNumber(e.area.amount))+" ",1),(0,s._)("span",C,(0,i.zw)(e.getAreaCost(e.purchaseInformationData)),1)],4),T,(0,s._)("b",R,(0,i.zw)(e.formatNumber(e.area.getUsableArea())),1),U],32)])}function I(e){if(e===1/0)return"∞s";if(e===-1/0)return"0";let t=`${Math.floor(e%60)}s`;return e>60&&(t=Math.floor(e/60)%60+"m "+t),e>3600&&(t=Math.floor(e/3600)%24+"h "+t),e>86400&&(t=`${Math.floor(e/86400)}d `+t),t}function O(e){if(e===1/0)return"∞s";if(e===-1/0)return"00s";let t=`${String(Math.floor(e%60)).padStart(2,"0")}s`;return e>60&&(t=`${String(Math.floor(e/60)%60).padStart(2,"0")}m `),e>3600&&(t=`${String(Math.floor(e/3600)%24).padStart(2,"0")}h `),e>86400&&(t=`${String(Math.floor(e/86400)).padStart(2,"0")}d `),t}function z(e,t){switch("normal"!==t&&"illion"!==t&&"exp"!==t&&(t=e<1e3?"normal":e<1e15?"illion":"exp"),t){case"normal":return j(e);case"illion":return N(e);case"exp":return A(e)}}function E(e){return Math.floor(e)}function j(e){return Number.isInteger(e)||e>=1e3||Math.abs((e-.5)%1-.5)<.005?e.toFixed(0):e<100?e.toFixed(2):e.toFixed(1)}function N(e){const t=e/1e6,r=e/1e9,o=e/1e12;return 1<=o&&o<1e3?o.toFixed(3).substring(0,5)+"T":1<=r&&r<1e3?r.toFixed(3).substring(0,5)+"B":1<=t&&t<1e3?t.toFixed(3).substring(0,5)+"M":(e/1e3).toFixed(3).substring(0,5)+"K"}function A(e){return e.toExponential(2)}const Z={save:"Save the game to a cookie",load:"Load the game from a cookie",debug:"Turn on/off debug mode. <br> <h4>Saving after using debug mode is not recommended</h4>",settings:"Change various settings, such as theme and color options",settingsTheme:"Toggle theme type",settingsDescriptionPosition:"Toggle whether descriptions follow the mouse as a tooltip or stay at the bottom of the screen",settingsCBMode:"Change the way good/bad things are indicated on screen",area:"The total amount of space (in mole-volumes) you can expand to without cave-in",dig:"You feel an urge to dig",upgrades:"Your little mole mind races with ideas to improve your tunneling ability",prevUpgrades:"Show upgrades that have previously been purchased",structures:"You think all this empty space and all these resources should be put to good use",log:"The history of your short mole life",resources:"All the materials you've discovered during your time digging this hole",capSliders:"How much ${0} you want to store (relative to other resources)",sliderSet1:"Sets all sliders to 1 (equal distribution of space)",sliderSet0:"Sets all sliders to 0 (no resources stored at all)",sliderSetMax:"Sets this slider (${0}) to the maximum (10) and all others to 0",resourceNumerator:"The current amount of ${0} you have (in mole-volumes)",resourceDenominator:"The current amount of ${0} you can store (in mole-volumes)",resourceRate:"The current amount of <b>${0}</b> you are producing (in mole-volumes per second):",population:"The amount of moles in your colony",populationMax:"The maximum amount of moles the colony can support. Moles don't like being crowded, and need 2 mole-volumes of space to live in (one mole-volume for the mole itself, and another for free space to wiggle around in, though they won't mind if it gets filled with resources).",empireButton:"View information about your mole empire",civRename:"Change the name of your mole colony",civInfo:"The stats of your current civilization",civList:"The list of civilizations previously established",empireResources:"The sum total of all exported resources from all civilizations",empireRes:"The current amount of ${0} your empire is producing",empireAvailable:"The current amount of ${0} that is available to you (currently ${1}% of total)",prestigeConfirm:"Reset the game and export selected resources from your current civilization </br><b>This cannot be undone</b>",infoButton:"See information about the game",versions:"When version numbers are different, the game is <b>unsupported</b>, and can behave unpredictably.</br>Different <b>patch</b> versions are <i>probably</i> fine.</br>Different <b>minor</b> versions <i>may or may not</i> be fine.</br>Different <b>major</b> versions are <i>certainly not</i> going to be compatible."};var q;function B(e){switch(e){case q.Burrow:return"Burrow";case q.Cave:return"Cave";case q.Excavation:return"Excavation";case q.Sinkhole:return"Sinkhole"}}function L(e){return e<=100?q.Burrow:e<=300?q.Cave:e<1e3?q.Excavation:q.Sinkhole}function W(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function Y(e){const t=e.toString(16);return 1==t.length?"0"+t:t}function F(e,t,r){return"#"+Y(e)+Y(t)+Y(r)}function $(e,t){switch(e){case"green red":return V("#15b115","#ffa500","#ff0000",t);case"blue orange":return V("#4444f9","#ffff00","#ffa500",t);case"mono":return V("#ffffff","#808080","#000000",t)}return"#000000"}function K(e,t,r){const o=W(e)||{r:0,g:0,b:0},s=W(t)||{r:255,g:255,b:255};return F(Math.floor(o.r+(s.r-o.r)*r),Math.floor(o.g+(s.g-o.g)*r),Math.floor(o.b+(s.b-o.b)*r))}function V(e,t,r,o){return o<=.5?K(e,t,2*o):K(t,r,2*(o-.5))}(function(e){e[e["Burrow"]=0]="Burrow",e[e["Cave"]=1]="Cave",e[e["Excavation"]=2]="Excavation",e[e["Sinkhole"]=3]="Sinkhole"})(q||(q={}));var H,G=r(2482);(function(e){e[e["SerializableClass"]=0]="SerializableClass",e[e["Game"]=1]="Game",e[e["Dig"]=2]="Dig",e[e["Resource"]=3]="Resource",e[e["Area"]=4]="Area",e[e["Structure"]=5]="Structure",e[e["Expansion"]=6]="Expansion",e[e["Upgrade"]=7]="Upgrade",e[e["Civilization"]=8]="Civilization"})(H||(H={}));class X{constructor(e){(0,G.Z)(this,"_class",void 0),this._class=e}}var J=(0,s.aZ)({name:"AreaDisplay",props:["area"],data(){return{uiDescriptions:Z}},computed:{...(0,y.rn)(["settings","purchaseInformationData"])},methods:{...(0,y.OI)(["hoverDescString","resetDesc"]),formatNumber(e){return z(e,void 0)},getAreaString(e){return B(L(e))},getColorScale(e){return $(this.settings.cbMode,e)},getAreaCost(e){return e&&e["_class"]===H.Structure?"-"+this.formatNumber(e.trueCostArea()):""}}}),Q=r(3744);const ee=(0,Q.Z)(J,[["render",P],["__scopeId","data-v-468e8302"]]);var te=ee;const re={id:"pop-text"},oe=(0,s.Uk)(" / ");function se(e,t,r,o,n,a){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("p",re,[(0,s._)("span",{onMouseover:t[0]||(t[0]=t=>e.hoverDescString(e.uiDescriptions["population"])),onMouseleave:t[1]||(t[1]=t=>e.resetDesc())},(0,i.zw)(e.getPopString(e.population))+(0,i.zw)("s"==e.getPopString(e.population).slice(-1)?"'":"'s")+" Population: "+(0,i.zw)(e.formatPop(e.population)),33),oe,(0,s._)("span",{onMouseover:t[2]||(t[2]=t=>e.hoverDescString(e.uiDescriptions["populationMax"])),onMouseleave:t[3]||(t[3]=t=>e.resetDesc())},(0,i.zw)(e.formatPop(e.popCap))+" Mo",33)])])}var ie;function ne(e){switch(e){case ie.SolitaryMole:return"Solitary mole";case ie.Labour:return"Labour of moles";case ie.Town:return"Town";case ie.City:return"City"}}function ae(e){return e<2?ie.SolitaryMole:e<10?ie.Labour:e<100?ie.Town:ie.City}(function(e){e[e["SolitaryMole"]=0]="SolitaryMole",e[e["Labour"]=1]="Labour",e[e["Town"]=2]="Town",e[e["City"]=3]="City"})(ie||(ie={}));var ue=(0,s.aZ)({name:"PopulationDisplay",props:["population","popCap"],data(){return{uiDescriptions:Z}},methods:{...(0,y.OI)(["hoverDescString","resetDesc"]),getPopString(e){return ne(ae(e))},formatPop(e){return E(e)},formatNumber(e){return z(e,void 0)}}});const ce=(0,Q.Z)(ue,[["render",se],["__scopeId","data-v-1848ca1b"]]);var le=ce;const de={id:"outer"};function pe(e,t,r,o,n,a){const u=(0,s.up)("particle-producer");return(0,s.wg)(),(0,s.iD)("div",de,[(0,s._)("button",{id:"dig-button",onMouseleave:t[0]||(t[0]=t=>e.resetDesc()),onMouseover:t[1]||(t[1]=t=>e.hoverDescDig()),onMousedown:t[2]||(t[2]=t=>e.$emit("setDigging",!0)),onMouseup:t[3]||(t[3]=t=>e.$emit("setDigging",!1)),style:(0,i.j5)([e.dig.digging?{background:"var(--tertiary-bg-color)"}:{background:"var(--global-bg-color)"}])},[(0,s._)("p",{style:(0,i.j5)([e.area.amount<e.area.getUsableArea()?{"font-size":"xxx-large","font-weight":"bold"}:{}]),id:"dig-text"}," Dig ",4),(0,s.Wm)(u,{ref:"digButtonDirtProd"},null,512)],36)])}function me(e,t,r,i,n,a){const u=(0,s.up)("rendered-particle");return(0,s.wg)(),(0,s.j4)(o.W3,{name:"slide-fade"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.particles,(e=>((0,s.wg)(),(0,s.j4)(u,{key:e.baseX,posParticle:e},null,8,["posParticle"])))),128))])),_:1})}function ge(e,t,r,o,n,a){const u=(0,s.up)("basic-particle");return(0,s.wg)(),(0,s.j4)(u,{particle:e.posParticle.particle,style:(0,i.j5)({top:e.posParticle.baseY,left:e.posParticle.baseX})},null,8,["particle","style"])}function he(e,t,r,o,n,a){return(0,s.wg)(),(0,s.iD)("span",{class:"circle",style:(0,i.j5)({"background-color":e.particle.color})},null,4)}const fe={amount:0,cap:0,capPriority:0,baseRate:0,multiplier:1,trueRate:0};var De;(function(e){e[e["Dirt"]=0]="Dirt",e[e["Wood"]=1]="Wood",e[e["Rock"]=2]="Rock",e[e["Iron"]=3]="Iron",e[e["Gold"]=4]="Gold",e[e["Termites"]=5]="Termites"})(De||(De={}));const ve={[De.Dirt]:{name:"Dirt",description:"The basic building block of all mole civilization",startingParams:{amount:0,cap:0,capPriority:1,baseRate:0,multiplier:1,trueRate:0},color:"#915a30"},[De.Wood]:{name:"Wood",description:"Twigs and roots that look like they can be made into all sorts of things",startingParams:fe,color:"#cfab59"},[De.Rock]:{name:"Rock",description:"A hard, grey lump of... whatever rocks are made of.",startingParams:fe,color:"#454545"},[De.Iron]:{name:"Iron",description:"A particularly shiny kind of rock",startingParams:fe,color:"#bdbdbd"},[De.Gold]:{name:"Gold",description:"An even shinier kind of rock",startingParams:fe,color:"#e8d241"},[De.Termites]:{name:"Termites",description:"Your friendly, delicious neighbours",startingParams:fe,color:"#a66f1e"}};class be{constructor(e){(0,G.Z)(this,"color",void 0),this.color=e||ve[De.Dirt].color}}var ke=(0,s.aZ)({name:"BasicParticle",props:["particle"],data(){return{}}});const we=(0,Q.Z)(ke,[["render",he],["__scopeId","data-v-932cfb50"]]);var ye=we;class _e{constructor(e,t,r){(0,G.Z)(this,"baseX",void 0),(0,G.Z)(this,"baseY",void 0),(0,G.Z)(this,"particle",void 0),"number"===typeof e&&"number"===typeof t?(this.baseX=e+"%",this.baseY=t+"%"):(this.baseX=String(e),this.baseY=String(t)),this.particle=new be(r)}}var Se=(0,s.aZ)({name:"RenderedParticle",props:["posParticle"],components:{BasicParticle:ye},data(){return{}}});const Me=(0,Q.Z)(Se,[["render",ge]]);var xe=Me;function Ce(e){let t=0;for(const s in e)t+=e[Number(s)];const r=[];let o=0;for(const s in e)o+=e[s]/t,r.push({color:ve[s].color,weight:o});return r}var Te=(0,s.aZ)({name:"ParticleProducer",props:[],data(){return{particles:[]}},components:{RenderedParticle:xe},methods:{updateParticles(e,t){e||(e=1),this.scatter(e,t),setTimeout((()=>this.fall()),16)},scatter(e,t){for(let r=0;r<e;r++){const e=100*Math.random(),r=100*Math.random();if(t){const o=Math.random();let s="";for(const e of t)if(o<e["weight"]){s=e["color"];break}this.particles.push(new _e(e,r,s))}else this.particles.push(new _e(e,r))}},fall(){this.particles=[]}},mounted(){}});const Re=(0,Q.Z)(Te,[["render",me],["__scopeId","data-v-c0f3e8e6"]]);var Ue,Pe,Ie,Oe=Re;r(1703);class ze extends X{constructor(e,t){super(t),(0,G.Z)(this,"id",void 0),this.id=e}}class Ee extends ze{constructor(e,t){super(e,t)}}(function(e){e[e["multiplier"]=0]="multiplier",e[e["unlock"]=1]="unlock",e[e["permanentUnlock"]=2]="permanentUnlock",e[e["empireMultiplier"]=3]="empireMultiplier",e[e["digRate"]=4]="digRate",e[e["none"]=5]="none"})(Ue||(Ue={})),function(e){e[e["gameStart"]=0]="gameStart",e[e["loadGame"]=1]="loadGame",e[e["resourceAmount"]=2]="resourceAmount",e[e["areaAmount"]=3]="areaAmount",e[e["upgrade"]=4]="upgrade",e[e["prevEvent"]=5]="prevEvent",e[e["prestige"]=6]="prestige",e[e["timed"]=7]="timed"}(Pe||(Pe={})),function(e){e[e["WoodenStrut"]=0]="WoodenStrut",e[e["RockColumn"]=1]="RockColumn",e[e["IronBeam"]=2]="IronBeam"}(Ie||(Ie={}));const je={[Ie.WoodenStrut]:{name:"Wooden strut",description:"Prop up the walls of this cave you're in with some twigs.",cost:{[De.Wood]:50},increase:{[De.Wood]:1.3},areaEach:100,startingParams:{amount:0,discount:{}}},[Ie.RockColumn]:{name:"Rock column",description:"Stack some rocks up to the ceiling to keep things from falling down just a bit longer",cost:{[De.Rock]:500},increase:{[De.Rock]:1.2},areaEach:1e3,startingParams:{amount:0,discount:{}}},[Ie.IronBeam]:{name:"Iron beam",description:"Construct some support beams to really let you expand this magnificent cave.",cost:{[De.Iron]:1e3},increase:{[De.Iron]:1.15},areaEach:2500,startingParams:{amount:0,discount:{}}}},Ne={amount:0,discount:{}},Ae="Flatten the structure back into usable materials";var Ze;(function(e){e[e["BallOfDirt"]=0]="BallOfDirt",e[e["TunnelBore"]=1]="TunnelBore",e[e["TermitePen"]=2]="TermitePen",e[e["TermiteWoodPatrol"]=3]="TermiteWoodPatrol",e[e["IronForge"]=4]="IronForge"})(Ze||(Ze={}));const qe={[Ze.BallOfDirt]:{name:"Ball of dirt",description:"Compress all the dirt you have into a ball and roll that around to pick up more dirt",sellDescription:Ae,production:{[De.Dirt]:.1},consumption:{},cost:{[De.Dirt]:10},areaCost:10,increase:{[De.Dirt]:1.1},startingParams:Ne},[Ze.TunnelBore]:{name:"Tunnel bore",description:"Construct a mole-megastructure capable of digging tunnels for you",sellDescription:Ae,production:{[De.Dirt]:10},consumption:{},areaCost:10,cost:{[De.Dirt]:100},increase:{[De.Dirt]:1.2},startingParams:Ne},[Ze.TermitePen]:{name:"Termite pen",description:"Corral some termites together in a cozy wooden enclosure",sellDescription:Ae,production:{[De.Termites]:.1},consumption:{[De.Wood]:.1},areaCost:10,cost:{[De.Wood]:25},increase:{[De.Wood]:1.2},startingParams:Ne},[Ze.TermiteWoodPatrol]:{name:"Termite wood patrol",description:"Leash and train some termites to sniff out wood for you to gather",sellDescription:Ae,production:{[De.Wood]:.3},consumption:{[De.Termites]:.2},areaCost:5,cost:{[De.Termites]:5},increase:{[De.Termites]:1.2},startingParams:Ne},[Ze.IronForge]:{name:"Iron forge",description:"Burn some dirt to extract some remaining iron you might have missed when putting it in the dirt pile",sellDescription:Ae,production:{[De.Iron]:.5},consumption:{[De.Dirt]:1,[De.Wood]:1},areaCost:50,cost:{[De.Rock]:50},increase:{[De.Rock]:1.2},startingParams:Ne}},Be={bought:!1,discount:{}};var Le,We,Ye;(function(e){e[e["LookAround"]=0]="LookAround",e[e["ExamineDirt"]=1]="ExamineDirt",e[e["DirtCompacting"]=2]="DirtCompacting",e[e["SimpleTools"]=3]="SimpleTools",e[e["Dirtomata"]=4]="Dirtomata",e[e["SurveyTower"]=5]="SurveyTower",e[e["MakeshiftShovel"]=6]="MakeshiftShovel",e[e["Pickaxe"]=7]="Pickaxe",e[e["TermiteKnowledge"]=8]="TermiteKnowledge",e[e["TermiteDomestication"]=9]="TermiteDomestication",e[e["FindSecondMole"]=10]="FindSecondMole",e[e["Ledger"]=11]="Ledger",e[e["TunnelToSurface"]=12]="TunnelToSurface",e[e["Catapult"]=13]="Catapult",e[e["Carpentry"]=14]="Carpentry",e[e["Cairnery"]=15]="Cairnery",e[e["MetalWorking"]=16]="MetalWorking"})(Le||(Le={})),function(e){e[e["StartingUnlock"]=0]="StartingUnlock",e[e["UnlockExamineDirt"]=1]="UnlockExamineDirt",e[e["ExamineDirt"]=2]="ExamineDirt",e[e["DirtCompacting"]=3]="DirtCompacting",e[e["SimpleTools"]=4]="SimpleTools",e[e["Dirtomata"]=5]="Dirtomata",e[e["SurveyTower"]=6]="SurveyTower",e[e["MakeshiftShovel"]=7]="MakeshiftShovel",e[e["Pickaxe"]=8]="Pickaxe",e[e["TermiteKnowledge"]=9]="TermiteKnowledge",e[e["TermiteDomestication"]=10]="TermiteDomestication",e[e["FindSecondMole"]=11]="FindSecondMole",e[e["Ledger"]=12]="Ledger",e[e["TunnelToSurface"]=13]="TunnelToSurface",e[e["Carpentry"]=14]="Carpentry",e[e["Cairnery"]=15]="Cairnery",e[e["MetalWorking"]=16]="MetalWorking"}(We||(We={})),function(e){e[e["Digging"]=0]="Digging",e[e["Empire"]=1]="Empire",e[e["Prestige"]=2]="Prestige",e[e["Population"]=3]="Population"}(Ye||(Ye={}));const Fe={[Le.LookAround]:{name:"Look around",description:"Examine your sorroundings",effects:[{func:Ue.permanentUnlock,params:{[Ue.permanentUnlock]:Ye.Digging}}],cost:{},startingParams:Be},[Le.ExamineDirt]:{name:"Examine the ground",description:"Take a closer look at this strange brown substance you see all around",effects:[{func:Ue.unlock,params:{[Ue.unlock]:We.ExamineDirt}},{func:Ue.digRate,params:{[Ue.digRate]:{[De.Dirt]:2}}}],cost:{},startingParams:Be},[Le.DirtCompacting]:{name:"Dirt compacting",description:"Figure out how to compress dirt into useful shapes",effects:[{func:Ue.unlock,params:{[Ue.unlock]:We.DirtCompacting}},{func:Ue.multiplier,params:{[Ue.multiplier]:{[De.Dirt]:2}}}],cost:{[De.Dirt]:50},startingParams:Be},[Le.SimpleTools]:{name:"Simple tools",description:"Discover the benefits of combining materials into simple paw-tools",effects:[{func:Ue.unlock,params:{[Ue.unlock]:We.SimpleTools}}],cost:{[De.Dirt]:50},startingParams:Be},[Le.Dirtomata]:{name:"Dirtomata",description:"Discover the secret to making simple dirt into complex machines capable of work",effects:[{func:Ue.unlock,params:{[Ue.unlock]:We.Dirtomata}},{func:Ue.multiplier,params:{[Ue.multiplier]:{[De.Dirt]:1.5}}}],cost:{[De.Dirt]:50},startingParams:Be},[Le.SurveyTower]:{name:"Survey tower",description:"Construct a survey tower (maybe more of a small hill) inside your cave to search outmore useful materials.",effects:[{func:Ue.unlock,params:{[Ue.unlock]:We.SurveyTower}},{func:Ue.digRate,params:{[Ue.digRate]:{[De.Wood]:1,[De.Rock]:.5}}}],cost:{[De.Dirt]:10},startingParams:Be},[Le.MakeshiftShovel]:{name:"Makeshift shovel",description:"Fashion some twigs and pebbles lying around into a shovel",effects:[{func:Ue.multiplier,params:{[Ue.multiplier]:{[De.Dirt]:1}}},{func:Ue.unlock,params:{[Ue.unlock]:We.MakeshiftShovel}}],cost:{[De.Dirt]:10},startingParams:Be},[Le.Pickaxe]:{name:"Pickaxe",description:"Construct a pickaxe out of twigs to help you get at those iron veins you've been seeing",effects:[{func:Ue.unlock,params:{[Ue.unlock]:We.Pickaxe}}],cost:{[De.Wood]:10,[De.Rock]:10},startingParams:Be},[Le.TermiteKnowledge]:{name:"Termite knowledge",description:"Ask the friendly local termites how they find so much wood in the ground",effects:[{func:Ue.multiplier,params:{[Ue.multiplier]:{[De.Wood]:1}}},{func:Ue.unlock,params:{[Ue.unlock]:We.TermiteKnowledge}}],cost:{[De.Dirt]:100},startingParams:Be},[Le.TermiteDomestication]:{name:"Termite Domestication",description:"Upon studying the termites for a while, you realize how useful it could be to keep them in one place and harness their wood-finding abilities",effects:[{func:Ue.unlock,params:{[Ue.unlock]:We.TermiteDomestication}}],cost:{[De.Dirt]:120},startingParams:Be},[Le.FindSecondMole]:{name:"Find a second mole",description:"You think you can smell another mole digging about in the dirt nearby. You feel a sudden sense of loneliness, and think you ought to try and find them.",effects:[{func:Ue.permanentUnlock,params:{[Ue.permanentUnlock]:Ye.Population}},{func:Ue.unlock,params:{[Ue.unlock]:We.FindSecondMole}}],cost:{[De.Dirt]:250},startingParams:Be},[Le.Ledger]:{name:"Ledger",description:"All these materials are getting hard to keep track of. You think you ought to start writing things down.",effects:[{func:Ue.empireMultiplier,params:{[Ue.empireMultiplier]:.05}},{func:Ue.unlock,params:{[Ue.unlock]:We.Ledger}},{func:Ue.permanentUnlock,params:{[Ue.permanentUnlock]:Ye.Empire}}],cost:{[De.Dirt]:150,[De.Wood]:100},startingParams:Be},[Le.TunnelToSurface]:{name:"Tunnel to the surface",description:"You start wondering what could be above the dirt, it seems warm up there.",effects:[{func:Ue.unlock,params:{[Ue.unlock]:We.TunnelToSurface}},{func:Ue.multiplier,params:{[Ue.multiplier]:{[De.Wood]:1}}}],cost:{[De.Dirt]:300},startingParams:Be},[Le.Catapult]:{name:"Catapult",description:"All the warmth and light above the dirt is making you nauseous, you want to get away and start building nice tunnels under somewhere else as soon as possible",effects:[{func:Ue.permanentUnlock,params:{[Ue.permanentUnlock]:Ye.Prestige}}],cost:{[De.Wood]:300},startingParams:Be},[Le.Carpentry]:{name:"Carpentry",description:"The brilliant idea to rotate some sticks vertically crosses your mind",effects:[{func:Ue.unlock,params:{[Ue.unlock]:We.Carpentry}}],cost:{[De.Wood]:25},startingParams:Be},[Le.Cairnery]:{name:"Cairnery",description:"While idly stacking rocks on top of each other, you start to wonder if this could actually be useful",effects:[{func:Ue.unlock,params:{[Ue.unlock]:We.Cairnery}}],cost:{[De.Rock]:150},startingParams:Be},[Le.MetalWorking]:{name:"Metal working",description:"By focusing all your mole strength you realize you can actually bend some iron into more useful shapes",effects:[{func:Ue.unlock,params:{[Ue.unlock]:We.MetalWorking}}],cost:{[De.Iron]:500},startingParams:Be}},$e={[We.StartingUnlock]:{resources:[],upgrades:[Le.LookAround],structures:[],expansions:[]},[We.UnlockExamineDirt]:{resources:[],upgrades:[Le.ExamineDirt],structures:[],expansions:[]},[We.ExamineDirt]:{resources:[De.Dirt],upgrades:[Le.SurveyTower,Le.DirtCompacting],structures:[],expansions:[]},[We.DirtCompacting]:{resources:[],upgrades:[Le.SimpleTools],structures:[Ze.BallOfDirt],expansions:[]},[We.SimpleTools]:{resources:[],upgrades:[Le.MakeshiftShovel,Le.Dirtomata],structures:[],expansions:[]},[We.Dirtomata]:{resources:[],upgrades:[],structures:[Ze.TunnelBore],expansions:[]},[We.SurveyTower]:{resources:[De.Wood,De.Rock],upgrades:[Le.TermiteKnowledge,Le.FindSecondMole,Le.Carpentry],structures:[],expansions:[]},[We.MakeshiftShovel]:{resources:[],upgrades:[Le.Pickaxe],structures:[],expansions:[]},[We.Pickaxe]:{resources:[De.Iron],upgrades:[],structures:[Ze.IronForge],expansions:[]},[We.TermiteKnowledge]:{resources:[],upgrades:[Le.TermiteDomestication],structures:[],expansions:[]},[We.TermiteDomestication]:{resources:[De.Termites],upgrades:[],structures:[Ze.TermitePen,Ze.TermiteWoodPatrol],expansions:[]},[We.FindSecondMole]:{resources:[],upgrades:[Le.Ledger],structures:[],expansions:[]},[We.Ledger]:{resources:[],upgrades:[Le.TunnelToSurface],structures:[],expansions:[]},[We.TunnelToSurface]:{resources:[],upgrades:[Le.Catapult],structures:[],expansions:[]},[We.Carpentry]:{resources:[],upgrades:[Le.Cairnery],structures:[],expansions:[Ie.WoodenStrut]},[We.Cairnery]:{resources:[],upgrades:[Le.MetalWorking],structures:[],expansions:[Ie.RockColumn]},[We.MetalWorking]:{resources:[],upgrades:[],structures:[],expansions:[Ie.IronBeam]}};class Ke extends Ee{constructor(e,t,r){super(e,H.Expansion),(0,G.Z)(this,"amount",void 0),(0,G.Z)(this,"discount",void 0),this.amount=t,this.discount=r}get dataObject(){return je[this.id]}trueCost(e){let t=this.discount[e];t||(t=1);let r=this.dataObject.increase[e];return r||(r=1),t*this.dataObject.cost[e]*r**this.amount}buy(){if(!this.canBuy)return!1;for(const e in this.dataObject.cost){const t=Number(e),r=Pt.resourceDict[t];r&&r.incrementAmount(-1*this.trueCost(t))}return Pt.area.cap+=this.dataObject.areaEach,this.amount+=1,!0}get canBuy(){for(const e in this.dataObject.cost){const t=Number(e),r=Pt.resourceDict[t];if(!r)return!1;if(this.trueCost(t)>r.amount)return!1}return!0}}class Ve extends ze{constructor(e,t,r,o,s){super(e,H.Resource),(0,G.Z)(this,"amount",void 0),(0,G.Z)(this,"cap",void 0),(0,G.Z)(this,"capPriority",void 0),(0,G.Z)(this,"multiplier",void 0),(0,G.Z)(this,"attemptedRateLastTick",void 0),(0,G.Z)(this,"realRateLastTick",void 0),(0,G.Z)(this,"rateBreakdown",void 0),this.amount=t,this.cap=r,this.capPriority=o,this.multiplier=s,this.attemptedRateLastTick=0,this.realRateLastTick=0,this.rateBreakdown={digRate:0,structureProd:0,structureCons:0,resourceMult:0,popMult:0,empireRate:0,empireMult:0}}setCapPriority(e,t,r){this.capPriority=e,this.setCap(t,r)}setCap(e,t){let r=t;0==t&&(r=1),this.cap=e*(this.capPriority/r)}get dataObject(){return ve[this.id]}reset(){this.setAmount(0)}setAmount(e){this.amount!=e&&e>=0&&e<=this.cap&&(this.amount=e,Pt.handleEvent(Pe.resourceAmount,{resId:this.id}))}incrementAmount(e){this.setAmount(this.amount+e)}incrementOrCap(e){this.amount+e>this.cap?this.setAmount(this.cap):this.incrementAmount(e)}updateRateFromTick(e,t,r,o){this.attemptedRateLastTick=e/r,this.realRateLastTick=(this.amount-t)/r,this.rateBreakdown=o}checkCap(){this.amount>this.cap&&this.setAmount(this.cap)}}class He extends Ee{constructor(e,t,r){super(e,H.Structure),(0,G.Z)(this,"amount",void 0),(0,G.Z)(this,"discount",void 0),this.amount=t,this.discount=r}get dataObject(){return qe[this.id]}trueCostArea(){return this.dataObject.areaCost}trueCost(e){return this.trueCostAt(e,this.amount)}trueCostAt(e,t){let r=this.discount[e];r||(r=1);let o=this.dataObject.increase[e];return o||(o=1),r*this.dataObject.cost[e]*o**t}buy(){if(!this.canBuy)return!1;for(const e in this.dataObject.cost){const t=Number(e),r=Pt.resourceDict[t];r&&r.incrementAmount(-1*this.trueCost(t))}return Pt.area.incrementAmount(-1*this.trueCostArea()),this.amount+=1,!0}sellFor(e){return this.trueCostAt(e,this.amount-1)}canSell(){return this.amount>0}sell(){if(this.canSell()){Pt.area.incrementOrCap(this.trueCostArea());for(const e in this.dataObject.cost){const t=Number(e),r=Pt.resourceDict[t];if(r){const e=this.sellFor(t);r.incrementOrCap(e)}}this.amount-=1}}get canBuy(){for(const e in this.dataObject.cost){const t=Number(e),r=Pt.resourceDict[t];if(void 0===r)return!1;if(this.trueCost(t)>r.amount)return!1}return!(this.trueCostArea()>Pt.area.amount)}}function Ge(e){const t=$e[e];for(const r of t.resources){const e=ve[r].startingParams;Pt.resourceDict[r]=new Ve(Number(r),e.amount,e.cap,e.capPriority,e.multiplier),Pt.resourceDict[r].setCapPriority(e.capPriority,Pt.area.amount,Pt.totalPriorities())}for(const r of t.upgrades){const e=Fe[r].startingParams;Pt.upgradeDict[r]=new Je(Number(r),e.bought,e.discount)}for(const r of t.structures){const e=qe[r].startingParams;Pt.structureDict[r]=new He(Number(r),e.amount,e.discount)}for(const r of t.expansions){const e=je[r].startingParams;Pt.expansionDict[r]=new Ke(Number(r),e.amount,e.discount)}}function Xe(e){switch(Pt.permanentUnlocks[e]=!0,e){case Ye.Population:Pt.population+=1;break;default:break}}class Je extends Ee{constructor(e,t,r){super(e,H.Upgrade),(0,G.Z)(this,"bought",void 0),(0,G.Z)(this,"discount",void 0),this.bought=t,this.discount=r}get dataObject(){return Fe[this.id]}trueCost(e){let t=this.discount[e];return void 0===t&&(t=1),t*this.dataObject.cost[e]}buy(){if(!this.canBuy)return!1;for(const e in this.dataObject.cost){const t=Number(e);Pt.resourceDict[t]&&Pt.resourceDict[t].incrementAmount(-1*this.trueCost(t))}for(const e of this.dataObject.effects)switch(e.func){case Ue.multiplier:Je.applyMultiplier(e.params[Ue.multiplier]);break;case Ue.unlock:Ge(e.params[Ue.unlock]);break;case Ue.permanentUnlock:Xe(e.params[Ue.permanentUnlock]);break;case Ue.empireMultiplier:Je.applyEmpireMultiplier(e.params[Ue.empireMultiplier]);break;case Ue.digRate:Je.applyDigRate(e.params[Ue.digRate]);break;case Ue.none:break;default:break}return this.bought=!0,Pt.handleEvent(Pe.upgrade,{upId:this.id}),!0}get canBuy(){if(this.bought)return!1;for(const e in this.dataObject.cost){const t=Number(e),r=Pt.resourceDict[t];if(void 0===r)return!1;if(this.trueCost(t)>r.amount)return!1}return!0}static applyMultiplier(e){for(const t in e){const r=Number(t),o=Pt.resourceDict[r];o&&(o.multiplier+=e[r])}}static applyDigRate(e){for(const t in e){const r=Number(t);void 0!==Pt.dig.digRates[r]?Pt.dig.digRates[r]+=e[r]:Pt.dig.digRates[r]=e[r]}}static applyEmpireMultiplier(e){Pt.empireMultiplier+=e}}class Qe extends X{constructor(e){super(H.Dig),(0,G.Z)(this,"digRates",void 0),(0,G.Z)(this,"digging",void 0),this.digRates=e,this.digging=!1}findTrueDigRate(e){if(void 0!==this.digRates[e]){if(void 0===Pt.resourceDict[e])throw new Error("Trying to dig for resource that hasnt been unlocked.");return this.digRates[e]*Pt.resourceDict[e].multiplier}}}var et,tt=r(2262);(function(e){e[e["Start"]=0]="Start",e[e["StartSecond"]=1]="StartSecond",e[e["Time5Sec"]=2]="Time5Sec",e[e["Area50"]=3]="Area50",e[e["Dirt5"]=4]="Dirt5",e[e["Dirt10Wood10"]=5]="Dirt10Wood10",e[e["Prestige"]=6]="Prestige",e[e["UpgradeLookAround"]=7]="UpgradeLookAround",e[e["UpgradeExamineDirt"]=8]="UpgradeExamineDirt",e[e["UpgradeMakshiftShovel"]=9]="UpgradeMakshiftShovel",e[e["UpgradeFindSecondMole"]=10]="UpgradeFindSecondMole",e[e["UpgradeTunnelToSurface"]=11]="UpgradeTunnelToSurface",e[e["UpgradeTermiteKnowledge"]=12]="UpgradeTermiteKnowledge"})(et||(et={}));const rt={[et.Start]:{name:"Start",description:"Appears when first starting the game",eventText:"You are a mole, waking from a deep sleep. You are unsure where you are or how you got here, but it feels like as good a place as any to start a life for a mole.",eventRequirements:[{requirementType:Pe.gameStart,requirementDetails:{}}],repeatable:!1,unlock:void 0},[et.StartSecond]:{name:"StartSecond",description:"Appears when starting the game after the first time (from loading the save)",eventText:"You feel a faint sense of deja vu as you look around. You see some resources piled up around you. You feel you should gather even more.",eventRequirements:[{requirementType:Pe.loadGame,requirementDetails:{}},{requirementType:Pe.prevEvent,requirementDetails:{[Pe.prevEvent]:{[et.Start]:0}}}],repeatable:!0,unlock:void 0},[et.Time5Sec]:{name:"Time5Sec",description:"Recall the ability of sight",eventText:"As you slowly regain consciousness, you remember that you have eyes, though they never worked too well.",eventRequirements:[{requirementType:Pe.timed,requirementDetails:{[Pe.timed]:5e3}}],repeatable:!1,unlock:We.StartingUnlock},[et.Area50]:{name:"Area50",description:"Reach 50 area",eventText:"Now that you've expanded this cave to a reasonable size you feel like you ought to take a closer look at this stuff the ground seems to be made out of.",eventRequirements:[{requirementType:Pe.areaAmount,requirementDetails:{[Pe.areaAmount]:50}}],repeatable:!1,unlock:We.UnlockExamineDirt},[et.Dirt5]:{name:"Dirt5",description:"Acquire 5 dirt",eventText:"You feel proud of amassing such a mighty pile of dirt. You estimate it is about 5 moles high.",eventRequirements:[{requirementType:Pe.resourceAmount,requirementDetails:{[Pe.resourceAmount]:{[De.Dirt]:5}}}],repeatable:!1,unlock:void 0},[et.Dirt10Wood10]:{name:"Dirt10Wood10",description:"Acquire 10 dirt and 10 wood",eventText:"You got 10 dirt and 10 wood",eventRequirements:[{requirementType:Pe.resourceAmount,requirementDetails:{[Pe.resourceAmount]:{[De.Dirt]:10,[De.Wood]:10}}}],repeatable:!1,unlock:void 0},[et.Prestige]:{name:"Prestige",description:"Appears whenever you prestige",eventText:"You wake up to find yourself in a strange new location, yet the same old materials lay around you. Better get digging again.",eventRequirements:[{requirementType:Pe.prestige,requirementDetails:{}}],repeatable:!0,unlock:We.UnlockExamineDirt},[et.UpgradeMakshiftShovel]:{name:"UpgradeMakshiftShovel",description:"Create a simple digging tool",eventText:"Now that you can dig through the ground at incredible speed, you feel like you ought to put more thought into these shiny rocks you keep finding.",eventRequirements:[{requirementType:Pe.upgrade,requirementDetails:{[Pe.upgrade]:[Le.MakeshiftShovel]}}],repeatable:!0,unlock:void 0},[et.UpgradeLookAround]:{name:"UpgradeLookAround",description:"Take a look around",eventText:"You open your mole eyes and look around you. Though you can't see much you can feel dirt under your feet. You feel an urge to start digging into it.",eventRequirements:[{requirementType:Pe.upgrade,requirementDetails:{[Pe.upgrade]:[Le.LookAround]}}],repeatable:!0,unlock:void 0},[et.UpgradeExamineDirt]:{name:"UpgradeExamineDirt",description:"Examine the ground around you",eventText:"The ground in this cave is a comfort to you, and you find yourself longing to keep some piled up.",eventRequirements:[{requirementType:Pe.upgrade,requirementDetails:{[Pe.upgrade]:[Le.ExamineDirt]}}],repeatable:!0,unlock:void 0},[et.UpgradeFindSecondMole]:{name:"UpgradeFindSecondMole",description:"Start building up a mole colony",eventText:"With another mole around to help the colony things should start moving much quicker, though you worry management will start to become an issue. You were never much of a moles mole.",eventRequirements:[{requirementType:Pe.upgrade,requirementDetails:{[Pe.upgrade]:[Le.FindSecondMole]}}],repeatable:!0,unlock:void 0},[et.UpgradeTunnelToSurface]:{name:"UpgradeTunnelToSurface",description:"Tunnel to above the dirt",eventText:"Upon finally reaching the surface of all this dirt, you realize one thing: it is awful up here. Full of light, smell, grass, and much less dirt. You vow not to return unless you absolutely must.",eventRequirements:[{requirementType:Pe.upgrade,requirementDetails:{[Pe.upgrade]:[Le.TunnelToSurface]}}],repeatable:!0,unlock:void 0},[et.UpgradeTermiteKnowledge]:{name:"UpgradeTermiteKnowledge",description:"Find out how the local termites find so much wood",eventText:"The termites graciously teach you their ways of finding roots in the ground, but your mind starts to wander. These termites look pretty tasty, and also pretty useful.",eventRequirements:[{requirementType:Pe.upgrade,requirementDetails:{[Pe.upgrade]:[Le.TermiteKnowledge]}}],repeatable:!0,unlock:void 0}},ot={};for(const Gn in rt)for(const e of rt[Gn].eventRequirements)void 0===ot[e.requirementType]&&(ot[e.requirementType]=[]),ot[e.requirementType].push(Number(Gn));const st=ot,it={};for(const Gn in rt)for(const e of rt[Gn].eventRequirements)if(e.requirementType===Pe.resourceAmount)for(const t in e.requirementDetails)it[t]||(it[t]=[]),it[t].push(Number(Gn));const nt=it,at={};for(const Gn in rt)for(const e of rt[Gn].eventRequirements)if(e.requirementType===Pe.upgrade){const t=e.requirementDetails[Pe.upgrade];for(const e of t)at[e]||(at[e]=[]),at[e].push(Number(Gn))}const ut=at;function ct(e,t,r){const o=[];switch(e){case Pe.gameStart:o.push(...lt(e,t,...st[e]));break;case Pe.loadGame:o.push(...lt(e,t,...st[e]));break;case Pe.prevEvent:void 0!==r&&void 0!==r["evId"]&&o.push(...lt(e,t,...st[e]));break;case Pe.prestige:o.push(...lt(e,t,...st[e]));break;case Pe.upgrade:if(void 0!==r&&void 0!==r["upId"]){const s=ut[r["upId"]];void 0!==s&&o.push(...lt(e,t,...s))}break;case Pe.resourceAmount:if(void 0!==r&&void 0!==r["resId"]){const s=nt[r["resId"]];void 0!==s&&o.push(...lt(e,t,...s))}break;case Pe.areaAmount:o.push(...lt(e,t,...st[e]));break;case Pe.timed:o.push(...lt(e,t,...st[e]));break;default:throw new Error(`Unknown event type '${e}'`)}for(const s of o){t.eventsDict[s]=Date.now();const e=rt[s].unlock;void 0!==e&&Ge(e)}}function lt(e,t,...r){const o=[];for(const s of r)dt(Number(s),e,t)&&o.push(Number(s));return o}function dt(e,t,r){if(void 0!==r.eventsDict[e]&&!rt[e].repeatable)return!1;for(const o of rt[e].eventRequirements)switch(o.requirementType){case Pe.gameStart:if(t!==Pe.gameStart)return!1;break;case Pe.loadGame:if(t!==Pe.loadGame)return!1;break;case Pe.prestige:if(t!==Pe.prestige)return!1;break;case Pe.upgrade:if(!ht(o.requirementDetails[Pe.upgrade],r))return!1;break;case Pe.resourceAmount:if(!ft(o.requirementDetails[Pe.resourceAmount],r))return!1;break;case Pe.prevEvent:if(!gt(o.requirementDetails[Pe.prevEvent],r))return!1;break;case Pe.areaAmount:if(!pt(o.requirementDetails[Pe.areaAmount],r))return!1;break;case Pe.timed:if(!mt(o.requirementDetails[Pe.timed],r))return!1;break;default:throw new Error(`Unknown event type '${o}'`)}return!0}function pt(e,t){return t.area.amount>=e}function mt(e,t){return Date.now()-t.creationTime>=e}function gt(e,t){for(const r in e){if(void 0===t.eventsDict[r])return!1;if(Date.now()-t.eventsDict[r]<e[r])return!1}return!0}function ht(e,t){for(const r of e){if(!t.upgradeDict[r])return!1;if(!t.upgradeDict[r].bought)return!1}return!0}function ft(e,t){for(const r in e){if(void 0===t.resourceDict[r])return!1;if(t.resourceDict[r].amount<e[r])return!1}return!0}function Dt(e,t){return Math.log2(e)/Math.log2(t)}class vt extends X{constructor(e,t){super(H.Area),(0,G.Z)(this,"amount",void 0),(0,G.Z)(this,"cap",void 0),this.amount=e,this.cap=t}getUsableArea(){return this.cap-Pt.getPopulation()}setAmount(e){this.amount!=e&&(this.amount=e,Pt.updateCaps(),Pt.handleEvent(Pe.areaAmount))}incrementAmount(e){this.setAmount(this.amount+e)}setOrCap(e){e>this.getUsableArea()?this.setAmount(this.getUsableArea()):this.setAmount(e)}incrementOrCap(e){this.amount+e>this.getUsableArea()?this.setAmount(this.getUsableArea()):this.incrementAmount(e)}getNextAmount(e){if(!Pt.dig.digging)return this.amount;const t=this.cap,r=10,o=1,s=this.amount,i=(r+o)**(s/t)-o,n=i+e;return t*Dt(n+o,r+o)}}function bt(){return{}}function kt(){return{}}function wt(){return{}}function yt(){return{}}function _t(){return new Qe({})}function St(){return new vt(0,100)}class Mt extends X{constructor(e,t,r){super(H.Civilization),(0,G.Z)(this,"resourceRates",void 0),(0,G.Z)(this,"name",void 0),(0,G.Z)(this,"population",void 0),this.resourceRates=e,this.name=t,this.population=r}}var xt={T:"0.1.4a"};const Ct=xt.T;class Tt extends X{constructor(e,t,r,o,s,i,n,a,u,c,l,d,p,m,g){super(H.Game),(0,G.Z)(this,"creationVersion",void 0),(0,G.Z)(this,"creationTime",void 0),(0,G.Z)(this,"lastUpdate",void 0),(0,G.Z)(this,"dig",void 0),(0,G.Z)(this,"area",void 0),(0,G.Z)(this,"population",void 0),(0,G.Z)(this,"name",void 0),(0,G.Z)(this,"resourceDict",void 0),(0,G.Z)(this,"upgradeDict",void 0),(0,G.Z)(this,"structureDict",void 0),(0,G.Z)(this,"expansionDict",void 0),(0,G.Z)(this,"permanentUnlocks",void 0),(0,G.Z)(this,"civilizations",void 0),(0,G.Z)(this,"empireMultiplier",void 0),(0,G.Z)(this,"eventsDict",void 0),this.creationVersion=e,this.creationTime=t,this.lastUpdate=r,this.dig=o,this.area=s,this.population=i,this.name=n,this.resourceDict=a,this.upgradeDict=u,this.structureDict=c,this.expansionDict=l,this.permanentUnlocks=d,this.civilizations=p,this.empireMultiplier=m,this.eventsDict=g}tick(e){const t=Date.now(),r=(t-this.lastUpdate)*(e||1)/1e3;this.population=this.getNextPopulation(r),this.area.amount>this.area.getUsableArea()&&(this.area.amount=this.area.getUsableArea(),this.updateCaps(),this.checkCaps()),this.dig.digging&&this.area.setOrCap(this.area.getNextAmount(r));const o={};for(const u in this.resourceDict)o[u]=this.resourceDict[u].cap;const s=this.getResourceChanges(r,o),i=s["changes"],n=s["breakdown"],a={};for(const u in i)u in this.resourceDict&&(a[u]=this.resourceDict[u].amount,this.resourceDict[u].incrementOrCap(i[u]));for(const u in this.resourceDict)this.resourceDict[u].updateRateFromTick(i[u]||0,a[u]||this.resourceDict[u].amount,r,n[u]);this.handleEvent(Pe.timed),this.lastUpdate=t}getResourceChanges(e,t){const r=this.getPopulation()>=2?1+this.getPopulation()/100:1,o={},s={};for(const i in this.resourceDict)s[i]={digRate:0,structureProd:0,structureCons:0,resourceMult:this.resourceDict[i].multiplier,popMult:r,empireRate:0,empireMult:this.empireMultiplier},o[i]=0;if(this.dig.digging)for(const i in this.dig.digRates)s[i].digRate=this.dig.digRates[i],o[i]=(o[i]||0)+this.dig.digRates[i]*this.resourceDict[i].multiplier*r*e;for(const i in this.structureDict){const t=this.structureDict[i],n=t.amount;let a=!0;const u={};for(const r in t.dataObject.consumption){const s=t.dataObject.consumption[r]*n*e,i=this.resourceDict[r].amount+(o[r]||0);if(i<s){a=!1;break}u[r]=s}if(a){for(const e in u)o[e]=(o[e]||0)-u[e],s[e].structureCons=(s[e].structureCons||0)+u[e];for(const i in t.dataObject.production)o[i]=(o[i]||0)+t.dataObject.production[i]*r*this.resourceDict[i].multiplier*n*e,s[i].structureProd=(s[i].structureProd||0)+t.dataObject.production[i]*n}}for(const i of this.civilizations)for(const t in i.resourceRates){if(void 0===o[t])continue;const r=Number(t);o[r]=(o[r]||0)+i.resourceRates[r]*this.empireMultiplier*e,s[r].empireRate=(s[r].empireRate||0)+i.resourceRates[r]}return{changes:o,breakdown:s}}getPopulation(){return Math.floor(this.population)}getPopulationCap(){return this.area.cap/2}getNextPopulation(e){const t=this.area.cap/2;if(this.population<2||this.population==t)return this.population;if(t-this.population<.001)return t;const r=2,o=t,s=1200,i=2*Math.log2(r/(o-r))/s,n=this.population,a=Math.log2((r*o-r*n)/(n*(o-r)))/i,u=a+e;return r*o/(r+(o-r)*2**(i*u))}handleEvent(e,t){ct(e,this,t)}resetResourceAmounts(){for(const e in this.resourceDict)this.resourceDict[e].reset()}totalPriorities(){let e=0;for(const t in this.resourceDict)e+=Number(this.resourceDict[t].capPriority);return e}updateCaps(){const e=this.totalPriorities();for(const t in this.resourceDict)this.resourceDict[t].setCap(this.area.amount,e)}checkCaps(){for(const e in this.resourceDict)this.resourceDict[e].checkCap()}getEmpireRates(){const e={};for(const t of this.civilizations)for(const r in t.resourceRates)e[r]=(e[r]||0)+t.resourceRates[r];return e}getHighestPotentialRates(){const e={};for(const t in this.resourceDict)e[t]=1/0;return this.getResourceChanges(1,e)["changes"]}prestige(e){const t=this.getHighestPotentialRates(),r={};for(const i in e){const o=e[i];r[o]=t[o]}const o=new Mt(r,this.name,this.population);this.civilizations.push(o);const s=new Tt(this.creationVersion,this.creationTime,Date.now(),_t(),St(),1,"Civ "+Date.now(),bt(),kt(),wt(),yt(),this.permanentUnlocks,this.civilizations,0,this.eventsDict);Rt(s),this.handleEvent(Pe.prestige)}isUnlocked(e){return this.permanentUnlocks[e]||!1}static loadGame(e){const t=e=>{if(Array.isArray(e)&&e.length>0||"string"!==typeof e&&Object.keys(e).length>0)for(const r in e)"_class"!=r&&(e[r]=t(e[r]));if(void 0!==H[e["_class"]])switch(H[Number(e["_class"])]){case"Game":return new Tt(e.creationVersion,e.creationTime,e.lastUpdate,e.dig,e.area,e.population,e.name,e.resourceDict,e.upgradeDict,e.structureDict,e.expansionDict,e.permanentUnlocks,e.civilizations,e.empireMultiplier,e.eventsDict);case"Resource":return new Ve(e.id,e.amount,e.cap,e.capPriority,e.multiplier);case"Upgrade":return new Je(e.id,e.bought,e.discount);case"Structure":return new He(e.id,e.amount,e.discount);case"Expansion":return new Ke(e.id,e.amount,e.discount);case"Dig":return new Qe(e.digRates);case"Area":return new vt(e.amount,e.cap);case"Civilization":return new Mt(e.resourceRates,e.name,e.population);default:return console.error("Warning: SerializableClass loaded, this may be an error"),Object.assign(new X(H.SerializableClass),e)}else if(void 0!==e["_class"])throw new Error(`Loading error! Invalid class '${e["_class"]}'`);return e};if(e){const r=JSON.parse(e);Rt(t(r)),Pt.handleEvent(Pe.loadGame)}}static getUpgradeUnlockTreeString(e,t,r){void 0===e&&(e=Le.ExamineDirt),void 0===t&&(t=0),void 0===r&&(r=""),r=0==t?`${Fe[e].name}\n`:1==t?`${r}|${"────".repeat(t)} ${Fe[e].name}\n`:`${r}|${"    ".repeat(t-1)} |──── ${Fe[e].name}\n`;const o=Fe[e].effects.find((e=>e.func==Ue.unlock));return void 0!==o&&$e[o.params[Ue.unlock]].upgrades.forEach((e=>r=`${r}${Tt.getUpgradeUnlockTreeString(e,(t||0)+1,"")}`)),r}}function Rt(e){Pt=(0,tt.qj)(e)}function Ut(){Rt(new Tt(Ct,Date.now(),Date.now(),_t(),St(),1,"Civ "+Date.now(),bt(),kt(),wt(),yt(),{},[],0,{})),ct(Pe.gameStart,Pt)}let Pt;var It=(0,s.aZ)({name:"DigButton",props:["dig","area"],components:{ParticleProducer:Oe},emits:["setDigging"],methods:{...(0,y.OI)(["hoverDescDig","resetDesc"]),updateParticles(){if(this.dig.digging){const e={};for(const t in this.dig.digRates){const r=Number(t);Pt.resourceDict[r].amount<Pt.resourceDict[r].cap&&(e[r]=this.dig.digRates[r])}Object.keys(e).length>0&&this.$refs["digButtonDirtProd"].updateParticles(4,Ce(e))}}},mounted(){setInterval(this.updateParticles,50)}});const Ot=(0,Q.Z)(It,[["render",pe],["__scopeId","data-v-893684a6"]]);var zt=Ot;const Et=e=>((0,s.dD)("data-v-2afe4264"),e=e(),(0,s.Cn)(),e),jt=(0,s.Uk)("Settings"),Nt=Et((()=>(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Uk)(" Example: "),(0,s._)("span",{class:"good-text"},"Good thing"),(0,s.Uk)(" / "),(0,s._)("span",{class:"bad-text"},"Bad thing")])],-1)));function At(e,t,r,o,n,a){const u=(0,s.up)("pop-up-menu");return(0,s.wg)(),(0,s.j4)(u,null,{title:(0,s.w5)((()=>[jt])),content:(0,s.w5)((()=>[(0,s._)("ul",null,[(0,s._)("li",null,[(0,s._)("button",{onClick:t[0]||(t[0]=(...t)=>e.toggleTheme&&e.toggleTheme(...t)),onMouseover:t[1]||(t[1]=t=>e.hoverDescString(e.uiDescriptions["settingsTheme"])),onMouseleave:t[2]||(t[2]=t=>e.resetDesc())}," Theme: "+(0,i.zw)("light"==e.settings.theme?"Light":"")+(0,i.zw)("dark"==e.settings.theme?"Dark":"")+(0,i.zw)("true mole"==e.settings.theme?"True Mole":""),33)]),(0,s._)("li",null,[(0,s._)("button",{onClick:t[3]||(t[3]=(...t)=>e.toggleTooltips&&e.toggleTooltips(...t)),onMouseover:t[4]||(t[4]=t=>e.hoverDescString(e.uiDescriptions["settingsDescriptionPosition"])),onMouseleave:t[5]||(t[5]=t=>e.resetDesc())}," Descriptions: "+(0,i.zw)(e.settings.tooltips?"Tooltips":"Fixed"),33)]),(0,s._)("li",null,[(0,s._)("button",{onClick:t[6]||(t[6]=(...t)=>e.toggleCBMode&&e.toggleCBMode(...t)),onMouseover:t[7]||(t[7]=t=>e.hoverDescString(e.uiDescriptions["settingsCBMode"])),onMouseleave:t[8]||(t[8]=t=>e.resetDesc())}," Color blind mode: "+(0,i.zw)("green red"==e.settings.cbMode?"Green / Red":"")+(0,i.zw)("blue orange"==e.settings.cbMode?"Blue / Orange":"")+(0,i.zw)("mono"==e.settings.cbMode?"Monochrome":"")+(0,i.zw)("no color"==e.settings.cbMode?"No color":""),33),Nt])])])),_:1})}const Zt=e=>((0,s.dD)("data-v-3a89ddf7"),e=e(),(0,s.Cn)(),e),qt={id:"pop-up-outer"},Bt=Zt((()=>(0,s._)("b",null,"X",-1))),Lt=[Bt],Wt={id:"content-outer"};function Yt(e,t,r,o,i,n){return(0,s.wg)(),(0,s.iD)("div",qt,[(0,s._)("h2",null,[(0,s.WI)(e.$slots,"title",{},void 0,!0)]),(0,s._)("button",{id:"exit-button",onClick:t[0]||(t[0]=t=>e.closePopUp())},Lt),(0,s._)("div",Wt,[(0,s.WI)(e.$slots,"content",{},void 0,!0)])])}var Ft=(0,s.aZ)({name:"PopUpMenu",props:[],data(){return{uiDescriptions:Z}},methods:{...(0,y.OI)(["closePopUp","hoverDescString","resetDesc"])}});const $t=(0,Q.Z)(Ft,[["render",Yt],["__scopeId","data-v-3a89ddf7"]]);var Kt=$t;function Vt(e){let t=function(e){const t=document.getElementById("description-container");if(null===t)return;const r=20,o=5,s=t.offsetWidth,i=t.clientHeight,n=e.clientX,a=e.clientY;n+r+s>window.innerWidth?(t.style.left="",t.style.right=window.innerWidth-(n-r)+"px"):(t.style.right="",t.style.left=n+r+"px"),a+o+i+26>window.innerHeight?(t.style.top="",t.style.bottom=window.innerHeight-(a-o)+"px"):(t.style.bottom="",t.style.top=a+o+"px")};e?(localStorage.setItem("molesDescPos","tooltip"),window.addEventListener("mousemove",t)):(localStorage.setItem("molesDescPos","fixed"),window.removeEventListener("mousemove",t))}var Ht=(0,s.aZ)({name:"SettingsDisplay",props:[],data(){return{uiDescriptions:Z}},computed:{...(0,y.rn)(["settings"])},components:{PopUpMenu:Kt},methods:{...(0,y.OI)(["settingsSetTheme","settingsSetTooltips","settingsSetCBMode","hoverDescString","resetDesc"]),toggleTheme(){const e=document.getElementsByTagName("html")[0];"light"==this.settings.theme?(e.setAttribute("theme","dark"),localStorage.setItem("molesTheme","dark"),this.settingsSetTheme("dark")):"dark"==this.settings.theme?(e.setAttribute("theme","true mole"),localStorage.setItem("molesTheme","true mole"),this.settingsSetTheme("true mole")):"true mole"==this.settings.theme&&(e.setAttribute("theme","light"),localStorage.setItem("molesTheme","light"),this.settingsSetTheme("light"))},toggleTooltips(){this.settingsSetTooltips(!this.settings.tooltips),Vt(this.settings.tooltips)},toggleCBMode(){const e=document.getElementsByTagName("html")[0];"green red"==this.settings.cbMode?(e.setAttribute("cbMode","blue orange"),localStorage.setItem("cbMode","blue orange"),this.settingsSetCBMode("blue orange")):"blue orange"==this.settings.cbMode?(e.setAttribute("cbMode","mono"),localStorage.setItem("cbMode","mono"),this.settingsSetCBMode("mono")):"mono"==this.settings.cbMode?(e.setAttribute("cbMode","no color"),localStorage.setItem("cbMode","no color"),this.settingsSetCBMode("no color")):"no color"==this.settings.cbMode&&(e.setAttribute("cbMode","green red"),localStorage.setItem("cbMode","green red"),this.settingsSetCBMode("green red"))}}});const Gt=(0,Q.Z)(Ht,[["render",At],["__scopeId","data-v-2afe4264"]]);var Xt=Gt;const Jt=e=>((0,s.dD)("data-v-27aae6ad"),e=e(),(0,s.Cn)(),e),Qt=(0,s.Uk)("Empire"),er={id:"empire-outer"},tr={id:"current-info"},rr={id:"name-container"},or=Jt((()=>(0,s._)("p",null,"Civilization name:",-1))),sr=(0,s.Uk)(" Current max rates: "),ir={id:"resource-rates"},nr=Jt((()=>(0,s._)("small",null," Mo/s",-1))),ar={class:"empire-side",id:"civilizations"},ur={class:"empire-side",id:"empire-resources"},cr=Jt((()=>(0,s._)("h3",null,"Empire Resources:",-1))),lr=Jt((()=>(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("b",null,"Resource")]),(0,s._)("td",null,[(0,s._)("b",null,"Total")]),(0,s._)("td",null,[(0,s._)("b",null,"Available")])],-1))),dr=["onMouseover"],pr=(0,s.Uk)(": "),mr=["onMouseover"],gr=Jt((()=>(0,s._)("small",null," Mo/s",-1))),hr=["onMouseover"],fr=Jt((()=>(0,s._)("small",null," Mo/s",-1))),Dr={key:0,id:"prestige-button"};function vr(e,t,r,n,a,u){const c=(0,s.up)("colored-resource"),l=(0,s.up)("civilization-item"),d=(0,s.up)("pop-up-menu");return(0,s.wg)(),(0,s.j4)(d,null,{title:(0,s.w5)((()=>[Qt])),content:(0,s.w5)((()=>[(0,s._)("div",er,[(0,s._)("div",tr,[(0,s._)("div",rr,[(0,s._)("div",{onMouseover:t[0]||(t[0]=t=>e.hoverDescString(e.uiDescriptions["civInfo"])),onMouseleave:t[1]||(t[1]=t=>e.resetDesc())},[or,(0,s._)("h3",null,(0,i.zw)(e.name),1)],32),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.newName=t),onKeyup:t[3]||(t[3]=(0,o.D2)(((...t)=>e.setName&&e.setName(...t)),["enter"])),placeholder:"edit name",onMouseover:t[4]||(t[4]=t=>e.hoverDescString(e.uiDescriptions["civRename"])),onMouseleave:t[5]||(t[5]=t=>e.resetDesc())},null,544),[[o.nr,e.newName]])]),(0,s._)("div",{id:"population-container",onMouseover:t[6]||(t[6]=t=>e.hoverDescString(e.uiDescriptions["civInfo"])),onMouseleave:t[7]||(t[7]=t=>e.resetDesc())},[(0,s._)("p",null,"Current population: "+(0,i.zw)(e.formatPop(e.population)),1),(0,s._)("p",null,"Status: "+(0,i.zw)(e.getPopString(e.population)),1)],32),(0,s._)("div",{id:"max-resources-container",onMouseover:t[8]||(t[8]=t=>e.hoverDescString(e.uiDescriptions["civInfo"])),onMouseleave:t[9]||(t[9]=t=>e.resetDesc())},[sr,(0,s._)("div",ir,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.maxPotentialRates,((t,r)=>((0,s.wg)(),(0,s.iD)("li",{key:r},[(0,s.Wm)(c,{resData:e.getResData(Number(r))},null,8,["resData"]),(0,s.Uk)(": "+(0,i.zw)(e.formatNumber(t)),1),nr])))),128))])])],32)]),(0,s._)("div",{id:"empire-info",class:(0,i.C_)({hidden:e.civilizations.length<1})},[(0,s._)("div",ar,[(0,s._)("h3",{onMouseover:t[10]||(t[10]=t=>e.hoverDescString(e.uiDescriptions["civList"])),onMouseleave:t[11]||(t[11]=t=>e.resetDesc())}," Civilizations: ",32),(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.civilizations,((e,t)=>((0,s.wg)(),(0,s.j4)(l,{key:t,civilization:e},null,8,["civilization"])))),128))])]),(0,s._)("div",ur,[cr,(0,s._)("table",null,[lr,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.empireRates,((r,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",{onMouseover:t=>e.hoverDescStringReg({str:e.uiDescriptions["empireRes"],args:[e.getResData(o).name]}),onMouseleave:t[12]||(t[12]=t=>e.resetDesc())},[(0,s.Wm)(c,{resData:e.getResData(Number(o))},null,8,["resData"]),pr],40,dr),(0,s._)("td",{onMouseover:t=>e.hoverDescStringReg({str:e.uiDescriptions["empireRes"],args:[e.getResData(o).name]}),onMouseleave:t[13]||(t[13]=t=>e.resetDesc())},[(0,s.Uk)((0,i.zw)(e.formatNumber(r)),1),gr],40,mr),(0,s._)("td",{onMouseover:t=>e.hoverDescStringReg({str:e.uiDescriptions["empireAvailable"],args:[e.getResData(o).name,100*e.empireMult]}),onMouseleave:t[14]||(t[14]=t=>e.resetDesc())},[(0,s.Uk)((0,i.zw)(e.formatNumber(r*e.empireMult)),1),fr],40,hr)])))),128))])])],2),e.prestigeUnlocked?((0,s.wg)(),(0,s.iD)("div",Dr,[(0,s._)("button",{onClick:t[15]||(t[15]=t=>e.togglePopupOpen("prestige"))},"Prestige")])):(0,s.kq)("",!0)])])),_:1})}const br=(0,s._)("br",null,null,-1);function kr(e,t,r,o,n,a){return(0,s.wg)(),(0,s.iD)("li",{class:"list-row",onMouseover:t[0]||(t[0]=t=>e.hoverDescCivilization(e.civilization)),onMouseleave:t[1]||(t[1]=t=>e.resetDesc())},[(0,s.Uk)((0,i.zw)(e.civilization.name)+" ",1),br,(0,s._)("ul",null,[(0,s._)("li",null,"Population: "+(0,i.zw)(e.formatPop(e.civilization.population)),1),(0,s._)("li",null,"Status: "+(0,i.zw)(e.getPopString(e.civilization.population)),1)])],32)}var wr=(0,s.aZ)({name:"CivilizationItem",props:["civilization"],methods:{...(0,y.OI)(["hoverDescCivilization","resetDesc"]),formatNumber(e){return z(e,void 0)},getPopString(e){return ne(ae(e))},formatPop(e){return E(e)}}});const yr=(0,Q.Z)(wr,[["render",kr]]);var _r=yr;const Sr={id:"container"},Mr={id:"text"};function xr(e,t,r,o,n,a){const u=(0,s.up)("basic-particle");return(0,s.wg)(),(0,s.iD)("span",Sr,[(0,s.Wm)(u,{id:"particle",particle:e.particle},null,8,["particle"]),(0,s._)("span",Mr,(0,i.zw)(e.resData.name),1)])}var Cr=(0,s.aZ)({name:"ColoredResource",props:["resData"],components:{BasicParticle:ye},data(){return{particle:new be(this.resData.color)}}});const Tr=(0,Q.Z)(Cr,[["render",xr],["__scopeId","data-v-02230a0e"]]);var Rr=Tr,Ur=(0,s.aZ)({name:"EmpireDisplay",props:["civilizations","empireRates","name","population","maxPotentialRates","empireMult","prestigeUnlocked"],data(){return{uiDescriptions:Z,newName:""}},emits:["prestige"],components:{PopUpMenu:Kt,CivilizationItem:_r,ColoredResource:Rr},computed:{...(0,y.rn)(["settings"])},methods:{...(0,y.OI)(["togglePopupOpen","hoverDescString","hoverDescStringReg","resetDesc"]),getResData(e){return ve[e]},formatNumber(e){return z(e,void 0)},getPopString(e){return ne(ae(e))},formatPop(e){return E(e)},setName(){Pt.name=this.newName}}});const Pr=(0,Q.Z)(Ur,[["render",vr],["__scopeId","data-v-27aae6ad"]]);var Ir=Pr;const Or=e=>((0,s.dD)("data-v-0ebefbd8"),e=e(),(0,s.Cn)(),e),zr=(0,s.Uk)("Info"),Er={id:"info-outer"},jr=Or((()=>(0,s._)("div",{id:"info-top"},[(0,s._)("p",null,[(0,s._)("b",null,[(0,s._)("i",null,"Moles")]),(0,s.Uk)(" is an open-source, text-based incremental game, built using Vue 3. ")])],-1))),Nr={id:"info-bottom"},Ar=(0,s.Uk)(" Save creation version: "),Zr=Or((()=>(0,s._)("p",null,[(0,s.Uk)(" Created by Daniel Kinsey. View the source code on "),(0,s._)("a",{href:"https://github.com/kinseyda/moles"},"Github")],-1)));function qr(e,t,r,o,n,a){const u=(0,s.up)("pop-up-menu");return(0,s.wg)(),(0,s.j4)(u,null,{title:(0,s.w5)((()=>[zr])),content:(0,s.w5)((()=>[(0,s._)("div",Er,[jr,(0,s._)("div",Nr,[(0,s._)("div",{onMouseover:t[0]||(t[0]=t=>e.hoverDescString(e.uiDescriptions["versions"])),onMouseleave:t[1]||(t[1]=t=>e.resetDesc())},[(0,s._)("p",null,[Ar,(0,s._)("span",{class:(0,i.C_)({"bad-text":e.gameSaveVersion!=e.appVersion,"bad-version":e.gameSaveVersion!=e.appVersion})},(0,i.zw)(e.gameSaveVersion),3)]),(0,s._)("p",null,"Application's version: "+(0,i.zw)(e.appVersion),1)],32),Zr])])])),_:1})}var Br=(0,s.aZ)({name:"InfoDisplay",props:["appVersion","gameSaveVersion"],data(){return{uiDescriptions:Z}},components:{PopUpMenu:Kt},computed:{},methods:{...(0,y.OI)(["toggleInfoOpen","hoverDescString","resetDesc"]),getResData(e){return ve[e]},formatNumber(e){return z(e,void 0)}}});const Lr=(0,Q.Z)(Br,[["render",qr],["__scopeId","data-v-0ebefbd8"]]);var Wr=Lr;const Yr=e=>((0,s.dD)("data-v-9872ac50"),e=e(),(0,s.Cn)(),e),Fr=(0,s.Uk)("Prestige"),$r={id:"prestige-outer"},Kr={id:"resource-select"},Vr=Yr((()=>(0,s._)("p",null,"Select up to 2 resources to export from this civilization when you leave.",-1))),Hr=["value","disabled"],Gr={class:"res-text"},Xr=Yr((()=>(0,s._)("small",null," Mo/s",-1))),Jr={id:"buttons"},Qr=Yr((()=>(0,s._)("h3",null,"Prestige",-1))),eo=[Qr];function to(e,t,r,n,a,u){const c=(0,s.up)("colored-resource"),l=(0,s.up)("pop-up-menu");return(0,s.wg)(),(0,s.j4)(l,null,{title:(0,s.w5)((()=>[Fr])),content:(0,s.w5)((()=>[(0,s._)("div",$r,[(0,s._)("div",Kr,[Vr,(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.maxPotentialRates,((r,n)=>((0,s.wg)(),(0,s.iD)("li",{key:n},[(0,s._)("label",null,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.resourcesSelected=t),value:n,disabled:e.resourcesSelected.length>=2&&-1===e.resourcesSelected.indexOf(n)||r<=0,number:""},null,8,Hr),[[o.e8,e.resourcesSelected]]),(0,s._)("span",Gr,[(0,s.Wm)(c,{resData:e.getResData(Number(n))},null,8,["resData"]),(0,s.Uk)(": "+(0,i.zw)(e.formatNumber(r)),1),Xr])])])))),128))])]),(0,s._)("div",Jr,[(0,s._)("button",{onClick:t[1]||(t[1]=t=>e.togglePopupOpen("empire"))},"Cancel"),(0,s._)("button",{onClick:t[2]||(t[2]=t=>{e.$emit("prestige",e.resourcesSelected),e.togglePopupOpen("prestige")}),onMouseover:t[3]||(t[3]=t=>e.hoverDescString(e.uiDescriptions["prestigeConfirm"])),onMouseleave:t[4]||(t[4]=t=>e.resetDesc())},eo,32)])])])),_:1})}var ro=(0,s.aZ)({name:"PrestigeMenu",props:["maxPotentialRates"],data(){return{uiDescriptions:Z,resourcesSelected:[]}},emits:["prestige"],components:{PopUpMenu:Kt,ColoredResource:Rr},computed:{...(0,y.rn)(["settings"])},methods:{...(0,y.OI)(["togglePopupOpen","hoverDescString","resetDesc"]),getResData(e){return ve[e]},formatNumber(e){return z(e,void 0)}}});const oo=(0,Q.Z)(ro,[["render",to],["__scopeId","data-v-9872ac50"]]);var so=oo;const io={id:"res-list-outer"},no={id:"list"},ao={key:0,id:"top-buttons"},uo={id:"prod-cont"};function co(e,t,r,o,i,n){const a=(0,s.up)("resource-item"),u=(0,s.up)("particle-producer");return(0,s.wg)(),(0,s.iD)("div",io,[Object.keys(e.resourceDict).length>0?((0,s.wg)(),(0,s.iD)("h2",{key:0,onMouseover:t[0]||(t[0]=t=>e.hoverDescString(e.uiDescriptions["resources"])),onMouseleave:t[1]||(t[1]=t=>e.resetDesc())}," Resources: ",32)):(0,s.kq)("",!0),(0,s._)("div",no,[Object.keys(e.resourceDict).length>1?((0,s.wg)(),(0,s.iD)("div",ao,[(0,s._)("button",{class:"slider-set",id:"set-1",onClick:t[2]||(t[2]=t=>e.setSliders(1)),onMouseover:t[3]||(t[3]=t=>e.hoverDescString(e.uiDescriptions["sliderSet1"])),onMouseleave:t[4]||(t[4]=t=>e.resetDesc())}," 1 ",32),(0,s._)("button",{class:"slider-set",id:"set-0",onClick:t[5]||(t[5]=t=>e.setSliders(0)),onMouseover:t[6]||(t[6]=t=>e.hoverDescString(e.uiDescriptions["sliderSet0"])),onMouseleave:t[7]||(t[7]=t=>e.resetDesc())}," 0 ",32)])):(0,s.kq)("",!0),(0,s._)("table",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.resourceDict,(t=>((0,s.wg)(),(0,s.j4)(a,{resource:t,key:t.id,sliderVal:e.sliderVals[t.id],"onUpdate:sliderVal":r=>e.sliderVals[t.id]=r,onSliderMax:r=>e.maxOne(t.id)},null,8,["resource","sliderVal","onUpdate:sliderVal","onSliderMax"])))),128))]),(0,s._)("div",uo,[(0,s.Wm)(u,{ref:"resListDirtProd"},null,512)])])])}const lo=e=>((0,s.dD)("data-v-18062df8"),e=e(),(0,s.Cn)(),e),po={class:"list-row"},mo=(0,s.Uk)(": "),go={class:"res-purchase-cost bad-text"},ho=lo((()=>(0,s._)("td",{class:"res-slash"},"/",-1))),fo=lo((()=>(0,s._)("small",null," Mo",-1))),Do={class:"res-rate-number"},vo={key:0,class:"res-purchase-rate"},bo={class:"good-text"},ko={class:"bad-text"},wo={class:"res-slider"},yo=["id","value"],_o={class:"res-slider-set"};function So(e,t,r,o,n,a){const u=(0,s.up)("colored-resource");return(0,s.wg)(),(0,s.iD)("tr",po,[(0,s._)("td",{class:"res-name",onMouseover:t[0]||(t[0]=t=>e.hoverDescIdentifiable(e.resource)),onMouseleave:t[1]||(t[1]=t=>e.resetDesc())},[(0,s.Wm)(u,{resData:e.resource.dataObject},null,8,["resData"]),mo],32),(0,s._)("td",{class:"res-amount",onMouseover:t[2]||(t[2]=t=>e.hoverDescStringReg({str:e.numDesc,args:[e.resource.dataObject.name]})),onMouseleave:t[3]||(t[3]=t=>e.resetDesc())},[(0,s._)("b",null,(0,i.zw)(e.formatNumber(e.resource.amount)),1),(0,s._)("p",go,(0,i.zw)(e.getResCost(e.purchaseInformationData)),1)],32),ho,(0,s._)("td",{class:"res-cap",onMouseover:t[4]||(t[4]=t=>e.hoverDescStringReg({str:e.denomDesc,args:[e.resource.dataObject.name]})),onMouseleave:t[5]||(t[5]=t=>e.resetDesc())},[(0,s._)("b",null,(0,i.zw)(e.formatNumber(e.resource.cap)),1),fo],32),(0,s._)("td",{class:"res-rate",onMouseover:t[6]||(t[6]=t=>e.hoverDescResRate({resName:e.resource.dataObject.name,rr:e.resource.rateBreakdown})),onMouseleave:t[7]||(t[7]=t=>e.resetDesc())},[(0,s._)("span",Do,[(0,s._)("b",{class:(0,i.C_)({"good-text":e.resource.attemptedRateLastTick>0,"bad-text":e.resource.attemptedRateLastTick<0})},(0,i.zw)(e.formatNumber(e.resource.attemptedRateLastTick)),3),e.purchaseInformationData&&e.purchaseInformationData["_class"]==e.SerializableClasses.Structure?((0,s.wg)(),(0,s.iD)("p",vo,[(0,s._)("span",bo,(0,i.zw)(e.getResRateProd(e.purchaseInformationData)),1),(0,s._)("span",ko,(0,i.zw)(e.getResRateCons(e.purchaseInformationData)),1)])):(0,s.kq)("",!0)]),(0,s._)("small",{class:(0,i.C_)({"good-text":e.resource.attemptedRateLastTick>0,"bad-text":e.resource.attemptedRateLastTick<0})}," Mo/s",2)],32),(0,s._)("td",wo,[(0,s._)("input",{onMouseover:t[8]||(t[8]=t=>e.hoverDescStringReg({str:e.capDesc,args:[e.resource.dataObject.name]})),onMouseleave:t[9]||(t[9]=t=>e.resetDesc()),class:"slider",id:"slider"+e.resource.id,type:"range",min:"0",max:"10",value:e.resource.capPriority,onInput:t[10]||(t[10]=t=>e.$emit("update:slider-val",t.target.value))},null,40,yo)]),(0,s._)("td",_o,[(0,s._)("button",{class:"slider-set",onClick:t[11]||(t[11]=t=>e.$emit("slider-max",e.resource.id)),onMouseover:t[12]||(t[12]=t=>e.hoverDescStringReg({str:e.maxDesc,args:[e.resource.dataObject.name]})),onMouseleave:t[13]||(t[13]=t=>e.resetDesc())}," X ",32)])])}var Mo=(0,s.aZ)({name:"ResourceItem",props:["resource"],emits:["update:slider-val","slider-max"],components:{ColoredResource:Rr},data(){return{numDesc:Z.resourceNumerator,denomDesc:Z.resourceDenominator,rateDesc:Z.resourceRate,capDesc:Z.capSliders,maxDesc:Z.sliderSetMax,sliderVal:this.resource.capPriority,SerializableClasses:H,particle:new be(this.resource.dataObject.color)}},computed:{...(0,y.rn)(["purchaseInformationData"])},methods:{...(0,y.OI)(["hoverDescIdentifiable","hoverDescResRate","hoverDescString","hoverDescStringReg","resetDesc"]),getResCost(e){return e?isNaN(e.trueCost(this.resource.id))?"":"-"+this.formatNumber(e.trueCost(this.resource.id)):""},getResRateProd(e){return isNaN(e.dataObject.production[this.resource.id])?"":"+"+this.formatNumber(e.dataObject.production[this.resource.id])},getResRateCons(e){return isNaN(e.dataObject.consumption[this.resource.id])?"":"-"+this.formatNumber(e.dataObject.consumption[this.resource.id])},formatNumber(e){return z(e,void 0)},getCap(){return this.resource.cap}}});const xo=(0,Q.Z)(Mo,[["render",So],["__scopeId","data-v-18062df8"]]);var Co=xo,To=(0,s.aZ)({name:"ResourceList",props:["resourceDict","area"],data(){return{sliderVals:{},uiDescriptions:Z}},components:{ResourceItem:Co,ParticleProducer:Oe},methods:{...(0,y.OI)(["hoverDescString","resetDesc"]),updateParticles(){const e={};for(const t in this.resourceDict){const r=Number(t);0!=this.resourceDict[r].realRateLastTick&&(e[r]=this.resourceDict[r].realRateLastTick)}Object.keys(e).length>0&&this.$refs["resListDirtProd"].updateParticles(1,Ce(e))},getSlider(e){return void 0===this.sliderVals[e]?this.resourceDict[e].capPriority:Number(this.sliderVals[e])},setSliders(e){for(const t in this.resourceDict)this.setSlider(Number(t),e)},maxOne(e){for(const t in this.resourceDict)Number(t)==e?this.setSlider(Number(t),10):this.setSlider(Number(t),0)},setSlider(e,t){this.sliderVals[e]=t;const r=document.getElementById(`slider${e}`);null!==r?r.value=String(t):console.error(`No slider called 'slider${e}'`)}},watch:{sliderVals:{deep:!0,handler:function(){let e=0;for(const t in this.resourceDict){const r=Number(t);e+=this.getSlider(r)}for(const t in this.resourceDict){const r=Number(t);if(void 0===this.area)throw new Error("ResourceList's area prop is undefined");this.resourceDict[r].setCapPriority(this.getSlider(r),this.area.amount,e),this.resourceDict[r].checkCap()}}}},mounted(){for(const e in this.resourceDict){const t=Number(e);this.sliderVals[t]=this.resourceDict[t].capPriority}setInterval(this.updateParticles,50)}});const Ro=(0,Q.Z)(To,[["render",co],["__scopeId","data-v-480deea7"]]);var Uo=Ro;const Po={key:0,id:"outer"},Io={id:"upgrades"};function Oo(e,t,r,o,n,a){const u=(0,s.up)("upgrade-item");return Object.keys(e.upgradeDict).length>0?((0,s.wg)(),(0,s.iD)("div",Po,[(0,s._)("h2",{onMouseover:t[0]||(t[0]=t=>e.hoverDescString(e.uiDescriptions["upgrades"])),onMouseleave:t[1]||(t[1]=t=>e.resetDesc())},(0,i.zw)(e.showPrev?"Previous":"")+" Upgrades: ",33),(0,s._)("div",Io,[(0,s._)("table",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.visibleUpgrades(e.showPrev),(e=>((0,s.wg)(),(0,s.j4)(u,{upgrade:e,key:e.id},null,8,["upgrade"])))),128))])]),e.visibleUpgrades(!e.showPrev).length>0||e.showPrev?((0,s.wg)(),(0,s.iD)("button",{key:0,onMouseover:t[2]||(t[2]=t=>e.hoverDescString(e.uiDescriptions["prevUpgrades"])),onMouseleave:t[3]||(t[3]=t=>e.resetDesc()),onClick:t[4]||(t[4]=t=>e.showPrev=!e.showPrev)},(0,i.zw)(e.showPrev?"Hide":"Show")+" previously bought upgrades ",33)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}function zo(e,t,r,o,n,a){return(0,s.wg)(),(0,s.iD)("tr",{class:"list-row clickable",onMouseover:t[0]||(t[0]=t=>e.hoverDescIdentifiable(e.upgrade)),onMouseleave:t[1]||(t[1]=t=>e.resetDesc()),onClick:t[2]||(t[2]=t=>e.buyUpgrade(e.upgrade))},[(0,s._)("td",{class:(0,i.C_)({"purchase-available":e.upgrade.canBuy})},[(0,s._)("span",{class:(0,i.C_)({"purchase-available":e.upgrade.canBuy})},(0,i.zw)(e.upgrade.dataObject.name),3)],2)],32)}var Eo=(0,s.aZ)({name:"UpgradeItem",props:["upgrade"],methods:{...(0,y.OI)(["hoverDescIdentifiable","resetDesc"]),formatNumber(e){return z(e,void 0)},buyUpgrade(e){e.buy()&&this.resetDesc()}}});const jo=(0,Q.Z)(Eo,[["render",zo]]);var No=jo,Ao=(0,s.aZ)({name:"UpgradeList",props:["upgradeDict"],components:{UpgradeItem:No},data(){return{uiDescriptions:Z,showPrev:!1}},computed:{},methods:{...(0,y.OI)(["hoverDescString","resetDesc"]),visibleUpgrades(e){let t=[];for(const r in this.upgradeDict)e==this.upgradeDict[r].bought&&t.push(this.upgradeDict[r]);return t}}});const Zo=(0,Q.Z)(Ao,[["render",Oo],["__scopeId","data-v-671b2716"]]);var qo=Zo;const Bo={id:"outer"};function Lo(e,t,r,o,i,n){const a=(0,s.up)("structure-item");return(0,s.wg)(),(0,s.iD)("div",Bo,[Object.keys(e.structureDict).length>0?((0,s.wg)(),(0,s.iD)("h2",{key:0,onMouseover:t[0]||(t[0]=t=>e.hoverDescString(e.uiDescriptions["structures"])),onMouseleave:t[1]||(t[1]=t=>e.resetDesc())}," Structures: ",32)):(0,s.kq)("",!0),(0,s._)("table",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.structureDict,(e=>((0,s.wg)(),(0,s.j4)(a,{structure:e,key:e.id},null,8,["structure"])))),128))])])}const Wo={class:"list-row"};function Yo(e,t,r,o,n,a){return(0,s.wg)(),(0,s.iD)("tr",Wo,[(0,s._)("td",{class:"struct-name",onMouseover:t[0]||(t[0]=t=>e.hoverDescIdentifiable(e.structure)),onMouseleave:t[1]||(t[1]=t=>e.resetDesc())},[(0,s._)("span",{class:(0,i.C_)({"purchase-available":e.structure.canBuy})},(0,i.zw)(e.structure.dataObject.name),3)],32),(0,s._)("td",{class:"struct-amount",onMouseover:t[2]||(t[2]=t=>e.hoverDescIdentifiable(e.structure)),onMouseleave:t[3]||(t[3]=t=>e.resetDesc())},(0,i.zw)(e.formatNumber(e.structure.amount)),33),(0,s._)("td",{class:"struct-buy clickable",onMouseover:t[5]||(t[5]=t=>e.hoverDescIdentifiable(e.structure)),onMouseleave:t[6]||(t[6]=t=>e.resetDesc())},[(0,s._)("button",{class:(0,i.C_)(["buy-sell",{"good-text":e.structure.canBuy}]),onClick:t[4]||(t[4]=t=>e.buyStructure(e.structure))}," + ",2)],32),(0,s._)("td",{class:"struct-sell",onMouseover:t[8]||(t[8]=t=>e.hoverDescStructSell(e.structure)),onMouseleave:t[9]||(t[9]=t=>e.resetDesc())},[(0,s._)("button",{class:(0,i.C_)(["buy-sell",{"bad-text":e.structure.canSell()}]),onClick:t[7]||(t[7]=t=>e.sellStructure(e.structure))}," - ",2)],32)])}var Fo=(0,s.aZ)({name:"StructureItem",props:["structure"],methods:{...(0,y.OI)(["hoverDescIdentifiable","hoverDescStructSell","resetDesc"]),formatNumber(e){return z(e,void 0)},buyStructure(e){e.buy()},sellStructure(e){e.sell()}}});const $o=(0,Q.Z)(Fo,[["render",Yo],["__scopeId","data-v-1fba2510"]]);var Ko=$o,Vo=(0,s.aZ)({name:"StructureList",props:["structureDict"],methods:{...(0,y.OI)(["hoverDescString","resetDesc"])},components:{StructureItem:Ko},data(){return{uiDescriptions:Z}}});const Ho=(0,Q.Z)(Vo,[["render",Lo],["__scopeId","data-v-f7771330"]]);var Go=Ho;const Xo={key:0,id:"outer"};function Jo(e,t,r,o,i,n){const a=(0,s.up)("expansion-item");return 0!==Object.keys(e.expansionDict).length?((0,s.wg)(),(0,s.iD)("div",Xo,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.expansionDict,(e=>((0,s.wg)(),(0,s.j4)(a,{expansion:e,key:e.id},null,8,["expansion"])))),128))])):(0,s.kq)("",!0)}const Qo=e=>((0,s.dD)("data-v-6b9524be"),e=e(),(0,s.Cn)(),e),es=Qo((()=>(0,s._)("br",null,null,-1)));function ts(e,t,r,o,n,a){return(0,s.wg)(),(0,s.iD)("button",{onMouseover:t[0]||(t[0]=t=>e.hoverDescIdentifiable(e.expansion)),onMouseleave:t[1]||(t[1]=t=>e.resetDesc()),onClick:t[2]||(t[2]=t=>e.expansion.buy())},[(0,s._)("span",{class:(0,i.C_)({"purchase-available":e.expansion.canBuy})},"Buy "+(0,i.zw)(e.expansion.dataObject.name),3),es,(0,s._)("p",null,"Amount: "+(0,i.zw)(e.expansion.amount),1)],32)}var rs=(0,s.aZ)({name:"ExpansionItem",props:["expansion"],methods:{...(0,y.OI)(["hoverDescIdentifiable","resetDesc"])}});const os=(0,Q.Z)(rs,[["render",ts],["__scopeId","data-v-6b9524be"]]);var ss=os,is=(0,s.aZ)({name:"ExpansionList",props:["expansionDict"],components:{ExpansionItem:ss},methods:{}});const ns=(0,Q.Z)(is,[["render",Jo],["__scopeId","data-v-5f788dc1"]]);var as=ns;const us=e=>((0,s.dD)("data-v-be39892a"),e=e(),(0,s.Cn)(),e),cs={id:"outer"},ls={id:"log-container"},ds=["onMouseover"],ps=us((()=>(0,s._)("small",null," ago",-1)));function ms(e,t,r,n,a,u){const c=(0,s.up)("particle-producer");return(0,s.wg)(),(0,s.iD)("div",cs,[(0,s._)("h2",{id:"label",onMouseover:t[0]||(t[0]=t=>e.hoverDescString(e.uiDescriptions["log"])),onMouseleave:t[1]||(t[1]=t=>e.resetDesc())}," Log: ",32),(0,s._)("button",{onClick:t[2]||(t[2]=t=>e.resetList()),id:"see-button"},"Mark all seen"),(0,s._)("div",ls,[(0,s.Wm)(o.W3,{name:"list",tag:"ol"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.eventList,(r=>((0,s.wg)(),(0,s.iD)("li",{key:r.id,onMouseover:t=>{e.hoverDescIdentifiable(r),r.see()},onMouseleave:t[3]||(t[3]=t=>e.resetDesc()),class:(0,i.C_)({unseen:!r.seen})},[(0,s.Uk)(" ["+(0,i.zw)(e.formatTime(e.timeSince(r.timeSeconds))),1),ps,(0,s.Uk)("] "+(0,i.zw)(r.dataObject.eventText),1)],42,ds)))),128))])),_:1}),(0,s.Wm)(c,{ref:"eventLogDirtProd"},null,512)])])}class gs{constructor(e,t,r){(0,G.Z)(this,"id",void 0),(0,G.Z)(this,"timeSeconds",void 0),(0,G.Z)(this,"eventId",void 0),(0,G.Z)(this,"seen",void 0),this.id=e,this.timeSeconds=Pt.eventsDict[t]/1e3,this.eventId=t,this.seen=r||!1}get dataObject(){return rt[this.eventId]}see(){this.seen=!0}}var hs=(0,s.aZ)({name:"EventLog",props:["eventsDict"],data(){return{currentTime:0,uiDescriptions:Z,eventList:[],resetNextUp:!1}},components:{ParticleProducer:Oe},watch:{eventsDict:{deep:!0,handler:function(){if(this.resetNextUp)this.resetList(),this.resetNextUp=!1;else{const e=this.makeList(this.eventList);if(this.eventList!=e){this.eventList=e;const t=this.$refs["eventLogDirtProd"];t&&t.updateParticles(32)}}}}},methods:{...(0,y.OI)(["hoverDescIdentifiable","hoverDescString","resetDesc"]),timeSince(e){return Math.max(this.currentTime-e,0)},formatTime(e){return O(e)},makeList(e,t){let r=e.length;for(const o in this.eventsDict)e.find((e=>e.eventId==Number(o)))||e.push(new gs(r++,Number(o),t));e.sort((function(e,t){return t.timeSeconds-e.timeSeconds}));for(let o=0;o<e.length;o++)e[e.length-1-o].id=o;return e},updateList(){this.eventList=this.makeList(this.eventList)},resetList(){this.eventList=this.makeList([],!0)},adjustTime(){this.currentTime=Date.now()/1e3}},mounted(){this.adjustTime(),setInterval(this.adjustTime,1e3),this.updateList()}});const fs=(0,Q.Z)(hs,[["render",ms],["__scopeId","data-v-be39892a"]]);var Ds=fs;const vs=["innerHTML"];function bs(e,t,r,o,n,a){const u=(0,s.up)("purchase-info"),c=(0,s.up)("dig-information"),l=(0,s.up)("sell-info"),d=(0,s.up)("civilization-info"),p=(0,s.up)("resource-rate");return(0,s.wg)(),(0,s.iD)("div",{id:"description-container",class:(0,i.C_)({"floating-tooltip":e.settings.tooltips,"is-empty":e.descriptionBoxIsEmpty})},[(0,s._)("div",{id:"description-box",innerHTML:e.descriptionBoxData},null,8,vs),e.purchaseInformationData?((0,s.wg)(),(0,s.j4)(u,{key:0,purchase:e.purchaseInformationData},null,8,["purchase"])):(0,s.kq)("",!0),e.digData?((0,s.wg)(),(0,s.j4)(c,{key:1,dig:e.gameData.dig},null,8,["dig"])):(0,s.kq)("",!0),e.structSellData?((0,s.wg)(),(0,s.j4)(l,{key:2,structure:e.structSellData},null,8,["structure"])):(0,s.kq)("",!0),e.civilizationInformationData?((0,s.wg)(),(0,s.j4)(d,{key:3,civilization:e.civilizationInformationData},null,8,["civilization"])):(0,s.kq)("",!0),e.resourceRateData?((0,s.wg)(),(0,s.j4)(p,{key:4,resourceRate:e.resourceRateData},null,8,["resourceRate"])):(0,s.kq)("",!0)],2)}const ks=e=>((0,s.dD)("data-v-450b02a6"),e=e(),(0,s.Cn)(),e),ws={class:"desc-side",id:"cost-container"},ys=ks((()=>(0,s._)("h4",null,"Cost:",-1))),_s={key:0,class:"good-text"},Ss={key:0},Ms=(0,s.Uk)(" Area: "),xs={class:"bad-text"},Cs=ks((()=>(0,s._)("small",{class:"bad-text"}," Mo",-1))),Ts={class:"desc-side",id:"effect-produce-container"};function Rs(e,t,r,o,n,a){const u=(0,s.up)("cost-bullet"),c=(0,s.up)("produce-details"),l=(0,s.up)("effects-container"),d=(0,s.up)("expansion-details");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ws,[ys,0!=Object.keys(e.purchase.dataObject.cost).length||void 0!==e.purchase.dataObject.areaCost&&0!=e.purchasase.dataObject.areaCost?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("b",_s,"No cost!")),(0,s._)("ul",null,[e.purchase._class===e.structureEnum?((0,s.wg)(),(0,s.iD)("li",Ss,[(0,s._)("h4",null,[Ms,(0,s._)("span",xs,[(0,s.Uk)((0,i.zw)(e.purchase.dataObject.areaCost),1),Cs])])])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.purchase.dataObject.cost),(t=>((0,s.wg)(),(0,s.j4)(u,{key:t,resourceId:Number(t),cost:e.purchase.trueCost(t)},null,8,["resourceId","cost"])))),128))])]),(0,s._)("div",Ts,[e.purchase._class===e.structureEnum?((0,s.wg)(),(0,s.j4)(c,{key:0,structure:e.purchase},null,8,["structure"])):(0,s.kq)("",!0),e.purchase._class===e.upgradeEnum?((0,s.wg)(),(0,s.j4)(l,{key:1,effects:e.purchase.dataObject.effects},null,8,["effects"])):(0,s.kq)("",!0),e.purchase._class===e.expansionEnum?((0,s.wg)(),(0,s.j4)(d,{key:2,expansion:e.purchase},null,8,["expansion"])):(0,s.kq)("",!0)])])}const Us=e=>((0,s.dD)("data-v-7a62b242"),e=e(),(0,s.Cn)(),e),Ps=Us((()=>(0,s._)("h4",null,"Production:",-1))),Is=(0,s.Uk)(": "),Os={class:"good-text"},zs=Us((()=>(0,s._)("small",{class:"good-text"}," Mo/s",-1))),Es=(0,s.Uk)(": "),js={class:"bad-text"},Ns=Us((()=>(0,s._)("small",{class:"bad-text"}," Mo/s",-1)));function As(e,t,r,o,n,a){const u=(0,s.up)("colored-resource");return(0,s.wg)(),(0,s.iD)("div",null,[Ps,(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.structure.dataObject.production),(t=>((0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s._)("p",null,[(0,s.Wm)(u,{resData:e.getResource(t).dataObject},null,8,["resData"]),Is,(0,s._)("span",Os,[(0,s.Uk)("+"+(0,i.zw)(e.formatNumber(e.structure.dataObject.production[t]))+" ",1),zs])])])))),128)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.structure.dataObject.consumption),(t=>((0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s._)("p",null,[(0,s.Wm)(u,{resData:e.getResource(t).dataObject},null,8,["resData"]),Es,(0,s._)("span",js,[(0,s.Uk)("-"+(0,i.zw)(e.formatNumber(e.structure.dataObject.consumption[t]))+" ",1),Ns])])])))),128))])])}var Zs=(0,s.aZ)({name:"ProduceDetails",props:["structure"],components:{ColoredResource:Rr},methods:{formatNumber(e){return z(e,void 0)},getResource(e){return Pt.resourceDict[e]}}});const qs=(0,Q.Z)(Zs,[["render",As],["__scopeId","data-v-7a62b242"]]);var Bs=qs;const Ls=(0,s._)("h4",null,"Effects",-1);function Ws(e,t,r,o,i,n){const a=(0,s.up)("effect-details");return(0,s.wg)(),(0,s.iD)("div",null,[Ls,(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.effects,(t=>((0,s.wg)(),(0,s.j4)(a,{key:t,effect:t,upgradeType:t.func,detailedDesc:e.getEffectDescription(t.func)},null,8,["effect","upgradeType","detailedDesc"])))),128))])])}function Ys(e,t,r,o,n,a){const u=(0,s.up)("multiply-effect"),c=(0,s.up)("unlock-effect"),l=(0,s.up)("dig-rate-effect");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("li",null,[(0,s._)("p",null,(0,i.zw)(e.detailedDesc),1),e.upgradeType==e.UpgradeEffects.multiplier?((0,s.wg)(),(0,s.j4)(u,{key:0,effect:e.effect},null,8,["effect"])):(0,s.kq)("",!0),e.upgradeType==e.UpgradeEffects.unlock?((0,s.wg)(),(0,s.j4)(c,{key:1,effect:e.effect},null,8,["effect"])):(0,s.kq)("",!0),e.upgradeType==e.UpgradeEffects.digRate?((0,s.wg)(),(0,s.j4)(l,{key:2,effect:e.effect},null,8,["effect"])):(0,s.kq)("",!0)])])}const Fs=(0,s.Uk)(": "),$s={class:"good-text"};function Ks(e,t,r,o,n,a){const u=(0,s.up)("colored-resource");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.effect.params[e.UpgradeTypes.multiplier]),(t=>((0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s._)("p",null,[(0,s.Wm)(u,{resData:e.getResource(t).dataObject},null,8,["resData"]),Fs,(0,s._)("span",$s,"+"+(0,i.zw)(e.formatNumber(100*e.effect.params[0][t]))+"%",1)])])))),128))])])}var Vs=(0,s.aZ)({name:"MultiplyEffect",data(){return{UpgradeTypes:Ue}},props:{effect:Object,detailedDesc:String},components:{ColoredResource:Rr},methods:{formatNumber(e){return z(e,void 0)},getResource(e){return Pt.resourceDict[e]}}});const Hs=(0,Q.Z)(Vs,[["render",Ks],["__scopeId","data-v-adc115c8"]]);var Gs=Hs;const Xs={key:0},Js={key:0},Qs={key:1},ei={key:0},ti={key:2},ri={key:0},oi={key:3},si={key:0};function ii(e,t,r,o,n,a){const u=(0,s.up)("colored-resource");return(0,s.wg)(),(0,s.iD)("ul",null,[e.getUnlockData().resources.length?((0,s.wg)(),(0,s.iD)("li",Xs,[(0,s.Uk)(" Resource"+(0,i.zw)(e.getUnlockData().resources.length>1?"s":"")+": ",1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.getUnlockData().resources,((t,r)=>((0,s.wg)(),(0,s.iD)("span",{key:t},[(0,s.Wm)(u,{resData:e.getResourceData(t)},null,8,["resData"]),r!=e.getUnlockData().resources.length-1?((0,s.wg)(),(0,s.iD)("span",Js,", ")):(0,s.kq)("",!0)])))),128))])):(0,s.kq)("",!0),e.getUnlockData().structures.length?((0,s.wg)(),(0,s.iD)("li",Qs,[(0,s.Uk)(" Structure"+(0,i.zw)(e.getUnlockData().structures.length>1?"s":"")+": ",1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.getUnlockData().structures,((t,r)=>((0,s.wg)(),(0,s.iD)("span",{key:t},[(0,s.Uk)((0,i.zw)(e.getStructureData(t).name)+" ",1),r!=e.getUnlockData().structures.length-1?((0,s.wg)(),(0,s.iD)("span",ei,", ")):(0,s.kq)("",!0)])))),128))])):(0,s.kq)("",!0),e.getUnlockData().expansions.length?((0,s.wg)(),(0,s.iD)("li",ti,[(0,s.Uk)(" Expansion"+(0,i.zw)(e.getUnlockData().expansions.length>1?"s":"")+": ",1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.getUnlockData().expansions,((t,r)=>((0,s.wg)(),(0,s.iD)("span",{key:t},[(0,s.Uk)((0,i.zw)(e.getExpansionData(t).name)+" ",1),r!=e.getUnlockData().expansions.length-1?((0,s.wg)(),(0,s.iD)("span",ri,", ")):(0,s.kq)("",!0)])))),128))])):(0,s.kq)("",!0),e.getUnlockData().upgrades.length?((0,s.wg)(),(0,s.iD)("li",oi,[(0,s.Uk)(" Upgrade"+(0,i.zw)(e.getUnlockData().upgrades.length>1?"s":"")+": ",1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.getUnlockData().upgrades,((t,r)=>((0,s.wg)(),(0,s.iD)("span",{key:t},[(0,s.Uk)((0,i.zw)(e.getUpgradeData(t).name),1),r!=e.getUnlockData().upgrades.length-1?((0,s.wg)(),(0,s.iD)("span",si,", ")):(0,s.kq)("",!0)])))),128))])):(0,s.kq)("",!0)])}var ni=(0,s.aZ)({name:"UnlockEffect",data(){return{UpgradeTypes:Ue}},props:{effect:Object,detailedDesc:String},components:{ColoredResource:Rr},methods:{formatNumber(e){return z(e,void 0)},getResourceData(e){return ve[e]},getUnlockData(){if(this.effect)return $e[this.effect.params[Ue.unlock]]},getUpgradeData(e){return Fe[e]},getStructureData(e){return qe[e]},getExpansionData(e){return je[e]}}});const ai=(0,Q.Z)(ni,[["render",ii]]);var ui=ai;const ci=e=>((0,s.dD)("data-v-676943c6"),e=e(),(0,s.Cn)(),e),li=(0,s.Uk)(": "),di={class:"good-text"},pi=ci((()=>(0,s._)("small",{class:"good-text"}," Mo/s",-1)));function mi(e,t,r,o,n,a){const u=(0,s.up)("colored-resource");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.effect.params[e.UpgradeTypes.digRate]),(t=>((0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s._)("p",null,[(0,s.Wm)(u,{resData:e.getResourceData(t)},null,8,["resData"]),li,(0,s._)("span",di,[(0,s.Uk)("+"+(0,i.zw)(e.formatNumber(e.effect.params[e.UpgradeTypes.digRate][t])),1),pi])])])))),128))])])}var gi=(0,s.aZ)({name:"DigRateEffect",data(){return{UpgradeTypes:Ue}},props:{effect:Object,detailedDesc:String},components:{ColoredResource:Rr},methods:{formatNumber(e){return z(e,void 0)},getResourceData(e){return ve[e]}}});const hi=(0,Q.Z)(gi,[["render",mi],["__scopeId","data-v-676943c6"]]);var fi=hi,Di=(0,s.aZ)({name:"EffectDetails",data(){return{UpgradeEffects:Ue}},components:{MultiplyEffect:Gs,UnlockEffect:ui,DigRateEffect:fi},props:{upgradeType:Number,effect:Object,detailedDesc:String},methods:{}});const vi=(0,Q.Z)(Di,[["render",Ys]]);var bi=vi,ki=(0,s.aZ)({name:"EffectsContainer",data(){return{UpgradeEffects:Ue}},components:{EffectDetails:bi},props:{effects:Object},methods:{getEffectDescription(e){switch(e){case Ue.multiplier:return"Multiplies resource gains:";case Ue.unlock:return"Unlocks:";case Ue.permanentUnlock:return"Grants a new ability";case Ue.digRate:return"Allows resources to be gathered while digging:";default:return"Does something?"}}}});const wi=(0,Q.Z)(ki,[["render",Ws]]);var yi=wi;const _i=(0,s.Uk)(": "),Si={class:"bad-text"},Mi=(0,s._)("small",{class:"bad-text"}," Mo",-1),xi=(0,s.Uk)(", ");function Ci(e,t,r,o,n,a){const u=(0,s.up)("colored-resource");return(0,s.wg)(),(0,s.iD)("li",null,[(0,s._)("p",null,[(0,s.Wm)(u,{resData:e.getResourceData()},null,8,["resData"]),_i,(0,s._)("span",Si,[(0,s.Uk)((0,i.zw)(e.formatNumber(e.cost))+" ",1),Mi]),xi,(0,s._)("span",{class:(0,i.C_)({"bad-text":e.timeUntil()>0,"good-text":0==e.timeUntil()})},(0,i.zw)(e.formatTime(e.timeUntil())),3)])])}var Ti=(0,s.aZ)({name:"CostBullet",props:{cost:Number,resourceId:Number},components:{ColoredResource:Rr},methods:{formatNumber(e){return z(e,void 0)},formatTime(e){return I(e)},getResourceData(){if(void 0===this.resourceId)throw new Error("Cost bullet's resource id not assigned");return ve[this.resourceId]},timeUntil(){if(void 0===this.resourceId)throw new Error("Cost bullet's resource id not assigned");if(void 0!==Pt.resourceDict[this.resourceId]){const e=Pt.resourceDict[this.resourceId];return void 0!==this.cost?0===e.attemptedRateLastTick?this.cost-e.amount>0?1/0:0:Math.max((this.cost-e.amount)/e.attemptedRateLastTick,0):0}return 1/0}}});const Ri=(0,Q.Z)(Ti,[["render",Ci]]);var Ui=Ri;const Pi=(0,s.Uk)(" Expands total area by "),Ii={class:"good-text"},Oi=(0,s._)("small",{class:"good-text"}," Mo",-1);function zi(e,t,r,o,n,a){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("p",null,[Pi,(0,s._)("b",Ii,[(0,s.Uk)((0,i.zw)(e.expansion.dataObject.areaEach),1),Oi])])])}var Ei=(0,s.aZ)({name:"ExpansionDetails",props:["expansion"],methods:{formatNumber(e){return z(e,void 0)},getResource(e){return Pt.resourceDict[e]}}});const ji=(0,Q.Z)(Ei,[["render",zi]]);var Ni=ji,Ai=(0,s.aZ)({name:"DescPurchaseInfo",props:["purchase"],data(){return{gameData:Pt,upgradeEnum:H.Upgrade,structureEnum:H.Structure,expansionEnum:H.Expansion}},components:{ProduceDetails:Bs,EffectsContainer:yi,CostBullet:Ui,ExpansionDetails:Ni},methods:{formatNumber(e){return z(e,void 0)},formatTime(e){return I(e)},getResource(e){return this.gameData.resourceDict[e]}}});const Zi=(0,Q.Z)(Ai,[["render",Rs],["__scopeId","data-v-450b02a6"]]);var qi=Zi;const Bi=e=>((0,s.dD)("data-v-fad5f9c4"),e=e(),(0,s.Cn)(),e),Li=(0,s.Uk)(" Rate = "),Wi=Bi((()=>(0,s._)("td",null,"(((",-1))),Yi=Bi((()=>(0,s._)("td",null," + ",-1))),Fi=Bi((()=>(0,s._)("td",null,") * ",-1))),$i=Bi((()=>(0,s._)("td",null," * ",-1))),Ki=Bi((()=>(0,s._)("td",null,") - ",-1))),Vi=Bi((()=>(0,s._)("td",null,") + ",-1))),Hi=Bi((()=>(0,s._)("td",null," * ",-1))),Gi=Bi((()=>(0,s._)("td",null,")",-1))),Xi=Bi((()=>(0,s._)("tr",{id:"labels"},[(0,s._)("td"),(0,s._)("td",{class:"numbers"},"Digging"),(0,s._)("td"),(0,s._)("td",{class:"numbers"},"Structures Prod."),(0,s._)("td"),(0,s._)("td",{class:"numbers"},"Multiplier"),(0,s._)("td"),(0,s._)("td",{class:"numbers"},"Pop. mult."),(0,s._)("td"),(0,s._)("td",{class:"numbers"},"Structures Cons."),(0,s._)("td"),(0,s._)("td",{class:"numbers"},"Empire"),(0,s._)("td"),(0,s._)("td",{class:"numbers"},"Empire mult."),(0,s._)("td")],-1)));function Ji(e,t,r,o,n,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[Li,(0,s._)("table",null,[(0,s._)("tr",null,[Wi,(0,s._)("td",{class:(0,i.C_)(["numbers",{"good-text":e.resourceRate.digRate>0}])},(0,i.zw)(e.formatNumber(e.resourceRate.digRate)),3),Yi,(0,s._)("td",{class:(0,i.C_)(["numbers",{"good-text":e.resourceRate.structureProd>0}])},(0,i.zw)(e.formatNumber(e.resourceRate.structureProd)),3),Fi,(0,s._)("td",{class:(0,i.C_)(["numbers",{"good-text":e.resourceRate.resourceMult>1}])},(0,i.zw)(e.formatNumber(e.resourceRate.resourceMult)),3),$i,(0,s._)("td",{class:(0,i.C_)(["numbers",{"good-text":e.resourceRate.popMult>1}])},(0,i.zw)(e.formatNumber(e.resourceRate.popMult)),3),Ki,(0,s._)("td",{class:(0,i.C_)(["numbers",{"bad-text":e.resourceRate.structureCons>0}])},(0,i.zw)(e.formatNumber(e.resourceRate.structureCons)),3),Vi,(0,s._)("td",{class:(0,i.C_)(["numbers",{"good-text":e.resourceRate.empireRate>0}])},(0,i.zw)(e.formatNumber(e.resourceRate.empireRate)),3),Hi,(0,s._)("td",{class:(0,i.C_)(["numbers",{"good-text":e.resourceRate.empireMult>0,"bad-text":0==e.resourceRate.empireMult}])},(0,i.zw)(e.formatNumber(e.resourceRate.empireMult)),3),Gi]),Xi])],64)}var Qi=(0,s.aZ)({name:"ResourceRate",props:["resourceRate"],data(){return{}},components:{},methods:{formatNumber(e){return z(e,void 0)}}});const en=(0,Q.Z)(Qi,[["render",Ji],["__scopeId","data-v-fad5f9c4"]]);var tn=en;const rn=e=>((0,s.dD)("data-v-ebac8b0c"),e=e(),(0,s.Cn)(),e),on={key:0},sn={key:1},nn={id:"refund-container",class:"half-side"},an=rn((()=>(0,s._)("h4",null,"Refund:",-1))),un=rn((()=>(0,s._)("b",null,"Area:",-1))),cn=(0,s.Uk)(": "),ln={class:"good-text"},dn=rn((()=>(0,s._)("small",{class:"good-text"}," Mo",-1))),pn={id:"effect-container",class:"half-side"},mn=rn((()=>(0,s._)("h4",null,"Result:",-1))),gn=(0,s.Uk)("s "),hn=rn((()=>(0,s._)("span",{class:"bad-text"},"-1",-1)));function fn(e,t,r,o,n,a){const u=(0,s.up)("colored-resource");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.structure.canSell()?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("b",on,"Unavailable")),e.structure.canSell()?((0,s.wg)(),(0,s.iD)("div",sn,[(0,s._)("div",nn,[an,(0,s._)("ul",null,[(0,s._)("li",null,[un,(0,s.Uk)(" "+(0,i.zw)(e.structure.dataObject.areaCost),1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.structure.dataObject.cost),(t=>((0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s.Wm)(u,{resData:e.getResourceData(t)},null,8,["resData"]),cn,(0,s._)("span",ln,[(0,s.Uk)("+"+(0,i.zw)(e.formatNumber(e.structure.sellFor(t))),1),dn])])))),128))])]),(0,s._)("div",pn,[mn,(0,s._)("b",null,(0,i.zw)(e.structure.dataObject.name),1),gn,hn])])):(0,s.kq)("",!0)],64)}var Dn=(0,s.aZ)({name:"SellInfo",props:["structure"],components:{ColoredResource:Rr},data(){return{gameData:Pt,upgradeEnum:H.Upgrade,structureEnum:H.Structure,expansionEnum:H.Expansion}},methods:{formatNumber(e){return z(e,void 0)},getResourceData(e){return ve[e]}}});const vn=(0,Q.Z)(Dn,[["render",fn],["__scopeId","data-v-ebac8b0c"]]);var bn=vn;const kn=e=>((0,s.dD)("data-v-1d891531"),e=e(),(0,s.Cn)(),e),wn={key:0},yn=kn((()=>(0,s._)("h4",null,"Dig rates:",-1))),_n=(0,s.Uk)(": "),Sn={class:"good-text"},Mn=kn((()=>(0,s._)("small",{class:"good-text"}," Mo/s",-1)));function xn(e,t,r,o,n,a){const u=(0,s.up)("colored-resource");return Object.keys(e.dig.digRates).length>0?((0,s.wg)(),(0,s.iD)("div",wn,[yn,(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.dig.digRates),(t=>((0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s.Wm)(u,{resData:e.getResource(t).dataObject},null,8,["resData"]),_n,(0,s._)("span",Sn,[(0,s.Uk)((0,i.zw)(e.formatNumber(e.dig.findTrueDigRate(t))),1),Mn])])))),128))])])):(0,s.kq)("",!0)}var Cn=(0,s.aZ)({name:"DigInformation",props:{dig:Qe},components:{ColoredResource:Rr},methods:{formatNumber(e){return z(e,void 0)},getResource(e){return Pt.resourceDict[e]}}});const Tn=(0,Q.Z)(Cn,[["render",xn],["__scopeId","data-v-1d891531"]]);var Rn=Tn;const Un=e=>((0,s.dD)("data-v-6d408bf6"),e=e(),(0,s.Cn)(),e),Pn=(0,s.Uk)(" exports: "),In=(0,s.Uk)(": "),On={class:"good-text"},zn=Un((()=>(0,s._)("small",{class:"good-text"}," Mo/s",-1)));function En(e,t,r,o,n,a){const u=(0,s.up)("colored-resource");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("p",null,[(0,s._)("b",null,(0,i.zw)(e.civilization?.name),1),Pn]),(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.civilization?.resourceRates),(t=>((0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s.Wm)(u,{resData:e.getResource(Number(t))},null,8,["resData"]),In,(0,s._)("span",On,[(0,s.Uk)((0,i.zw)(e.formatNumber(e.civilization?.resourceRates[t])),1),zn])])))),128))])])}var jn=(0,s.aZ)({name:"CivilizationInfo",props:{civilization:Mt},components:{ColoredResource:Rr},methods:{formatNumber(e){return z(e,void 0)},getResource(e){return ve[e]}}});const Nn=(0,Q.Z)(jn,[["render",En],["__scopeId","data-v-6d408bf6"]]);var An=Nn,Zn=(0,s.aZ)({name:"DescriptionContainer",props:{gameData:Tt},computed:{...(0,y.rn)(["purchaseInformationData","resourceRateData","structSellData","civilizationInformationData","descriptionBoxData","descriptionBoxIsEmpty","digData","settings"])},components:{PurchaseInfo:qi,SellInfo:bn,DigInformation:Rn,CivilizationInfo:An,ResourceRate:tn}});const qn=(0,Q.Z)(Zn,[["render",bs],["__scopeId","data-v-1fca7efa"]]);var Bn=qn;let Ln=class extends w.w3{};Ln=(0,k.gn)([(0,w.Ei)({name:"App",components:{AreaDisplay:te,PopulationDisplay:le,ResourceList:Uo,UpgradeList:qo,StructureList:Go,DigButton:zt,ExpansionList:as,DescriptionContainer:Bn,EventLog:Ds,SettingsDisplay:Xt,InfoDisplay:Wr,EmpireDisplay:Ir,PrestigeMenu:so},computed:{...(0,y.rn)(["debugMode","purchaseInformationData","structSellData","descriptionBoxData","descriptionBoxIsEmpty","digData","popUpOpen","settings"])},data(){return{gameData:Pt,uiDescriptions:Z,PermanentUnlocks:Ye,appVersion:Ct,debugMultiplier:1,mode:"production"}},methods:{...(0,y.OI)(["toggleDebug","hoverDescDig","hoverDescString","resetDesc","togglePopupOpen","settingsSetTheme","settingsSetTooltips","settingsSetCBMode"]),formatNumber(e){return z(e,"")},gameLoop(){this.gameData.tick(this.debugMultiplier)},saveGame(){localStorage.setItem("molesSave",JSON.stringify(this.gameData))},loadGame(){const e=localStorage.getItem("molesSave");null!==e&&Tt.loadGame(e),this.gameData=Pt,this.$refs["eventLog"].resetNextUp=!0},prestigeGame(e){Pt.prestige(e),this.gameData=Pt},setDigging(e){this.gameData.dig.digging=e},logUnlockTree(){console.log(Tt.getUpgradeUnlockTreeString())},debugToggle(){this.toggleDebug()},debugFillAll(){for(let e in this.gameData.resourceDict)this.gameData.resourceDict[e].setAmount(this.gameData.resourceDict[e].cap)}},beforeCreate(){Ut()},mounted(){setInterval(this.gameLoop,50);const e=document.getElementsByTagName("html")[0],t=localStorage.getItem("molesTheme");"light"==t||"dark"==t||"true mole"==t?(e.setAttribute("theme",t),this.settingsSetTheme(t)):e.setAttribute("theme","light");const r=localStorage.getItem("molesDescPos");"fixed"==r?(this.settingsSetTooltips(!1),Vt(!1)):(this.settingsSetTooltips(!0),Vt(!0));const o=localStorage.getItem("cbMode");"green red"==o||"blue orange"==o?(e.setAttribute("cbMode",o),this.settingsSetCBMode(o)):e.setAttribute("cbMode","green red")}})],Ln);var Wn=Ln;const Yn=(0,Q.Z)(Wn,[["render",b],["__scopeId","data-v-41f32950"]]);var Fn=Yn;const $n="Hover over something to see a description of it here.",Kn=Symbol(),Vn=(0,y.MT)({state:{descriptionBoxIsEmpty:!0,descriptionBoxData:$n,purchaseInformationData:void 0,civilizationInformationData:void 0,structSellData:void 0,resourceRateData:void 0,digData:!1,debugMode:!1,popUpOpen:"",settings:{theme:"light",tooltips:!0,cbMode:"green red"}},getters:{},mutations:{settingsSetTheme(e,t){e.settings.theme=t},settingsSetTooltips(e,t){e.settings.tooltips=t},settingsSetCBMode(e,t){e.settings.cbMode=t},togglePopupOpen(e,t){e.popUpOpen==t?e.popUpOpen="":e.popUpOpen=t},closePopUp(e){e.popUpOpen=""},resetDesc(e){e.descriptionBoxIsEmpty=!0,e.purchaseInformationData=void 0,e.resourceRateData=void 0,e.civilizationInformationData=void 0,e.structSellData=void 0,e.descriptionBoxData=$n,e.digData=!1},hoverDescIdentifiable(e,t){e.descriptionBoxIsEmpty=!1,t instanceof Ee&&(e.purchaseInformationData=t),e.descriptionBoxData=t.dataObject.description},hoverDescCivilization(e,t){e.descriptionBoxData="",e.descriptionBoxIsEmpty=!1,e.civilizationInformationData=t},hoverDescStructSell(e,t){e.descriptionBoxIsEmpty=!1,e.structSellData=t,e.descriptionBoxData=t.dataObject.sellDescription},hoverDescDig(e){e.descriptionBoxIsEmpty=!1,e.digData=!0,e.descriptionBoxData=Z.dig},hoverDescResRate(e,t){e.descriptionBoxIsEmpty=!1,e.resourceRateData=t.rr,e.descriptionBoxData=Hn(Z.resourceRate,[t.resName])},hoverDescString(e,t){e.descriptionBoxIsEmpty=!1,e.descriptionBoxData=t},hoverDescStringReg(e,t){e.descriptionBoxIsEmpty=!1,e.descriptionBoxData=Hn(t.str,t.args)},toggleDebug(e){e.debugMode=!e.debugMode}}});function Hn(e,t){let r=e;const o=/(\$\{\d\})/gm,s=e.matchAll(o);for(const i of s){const e=i[0].toString();r=r.replace(e,t[Number(e[2])])}return r}(0,o.ri)(Fn).use(Vn,Kn).mount("#app")}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,o,s,i){if(!o){var n=1/0;for(l=0;l<e.length;l++){o=e[l][0],s=e[l][1],i=e[l][2];for(var a=!0,u=0;u<o.length;u++)(!1&i||n>=i)&&Object.keys(r.O).every((function(e){return r.O[e](o[u])}))?o.splice(u--,1):(a=!1,i<n&&(n=i));if(a){e.splice(l--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[o,s,i]}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={826:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,i,n=o[0],a=o[1],u=o[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(s in a)r.o(a,s)&&(r.m[s]=a[s]);if(u)var l=u(r)}for(t&&t(o);c<n.length;c++)i=n[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(l)},o=self["webpackChunkmoles"]=self["webpackChunkmoles"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(5200)}));o=r.O(o)})();
//# sourceMappingURL=index.97ad206a.js.map